# ====================================================================
## document bundles
# ====================================================================
---
if: tool_ID == "JOD_only"
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[judgment_ccmlh412, foc_100_main, foc_100_attachment, foc_10_main, foc_10_attachment], filename="Michigan Divorce and Custody JOD", title="Divorce and Custody JOD", enabled=True)
  # - al_court_bundle: [same as above, less instructions]
---
if: tool_ID == "divorce_complaint"
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[judgment_ccmlh412, child_support_services_dhs_1201d, fee_waiver_attachment, protected_pii_mc_97a_attachment], filename="Michigan Divorce and Custody JOD", title="Divorce and Custody JOD", enabled=True)
  # - al_court_bundle: [will be same as above, except without the instructions]
---
# ====================================================================
## Enabling logic
# ====================================================================
---
### List of enabling logic that is TBD

---
code: |
  if tool_ID in ["divorce_complaint", "custody_complaint"]:
    child_support_services_dhs_1201d.enabled = there_are_marital_children
---
# note fee waiver logic is largely in fee waiver tool
code: |
  if tool_ID in ["divorce_complaint", "custody_complaint"]:
    fee_waiver_attachment.enabled = pa_received
    if pa_received:
      protected_pii_mc_97a_attachment.enabled = insert_pii_form
    else:
      protected_pii_mc_97a_attachment.enabled = False
  else:
    fee_waiver_attachment.enabled = False
    protected_pii_mc_97a_attachment.enabled = False
---
code: |
  foc_100_main.enabled = there_are_marital_children or user_wants_post_divorce_support or spousal_support_provisions == "user_agrees_to_pay_spousal_support"
---
code: |
  if foc_100_main.enabled:
    foc_100_attachment.enabled = (len(children.filter(legal_parent="both")) > 4) or (len(users[0].insurance) > 5) or (len(other_parties[0].insurance) > 5)
  else:
    foc_100_attachment.enabled = False
---
code: |
  foc_10_main.enabled = there_are_marital_children
---
code: |
  if foc_10_main.enabled:
    foc_10_attachment.enabled = len(children.filter(legal_parent="both")) > 5
  else:
    foc_10_attachment.enabled = False
---
# ====================================================================
## specific form objects and attachment blocks
# ====================================================================
---
# --------------------------------------------------------------------
## Example form title or category here
# --------------------------------------------------------------------
---
---
# --------------------------------------------------------------------
## Appplication for IV-D Child Support Services, DHS-1201D
# --------------------------------------------------------------------
---
objects:
  - child_support_services_dhs_1201d: ALDocument.using(title="Application for IV-D Child Support Services - DHS-1201D", filename="Application for IV-D Child Support Services - DHS-1201D")
---
attachment:
  - name: Application for IV-D Child Support Services - DHS-1201D
    filename: Application for IV-D Child Support Services - DHS-1201D
    variable name: child_support_services_dhs_1201d[i]
    pdf template file: child_support_services_dhs1201d.pdf
    skip undefined: True
    editable: False
    fields:
      - docket_number: |
          % if tool_ID == "divorce_answer":
          ${docket_number}
          % else:
                                    -DM
          % endif
      - relationship_mother: ${ True if users[0].gender == "female" and other_parties[0].gender == "male" else False }
      - relationship_father: ${ True if users[0].gender == "male" and other_parties[0].gender == "female" else False }
      - kids_live_with_mother: |
          % if users[0].gender == "male" and other_parties[0].gender == "female":
          ${ True if children_now_live_with_which_parent == other_parties[0] else False }
          % elif users[0].gender == "female" and other_parties[0].gender == "male":
          ${ True if children_now_live_with_which_parent == users[0] else False }
          % endif        
      - kids_live_with_father: |
          % if users[0].gender == "female" and other_parties[0].gender == "male":
          ${ True if children_now_live_with_which_parent == other_parties[0] else False }
          % elif users[0].gender == "male" and other_parties[0].gender == "female":
          ${ True if children_now_live_with_which_parent == users[0] else False }
          % endif     
      - kids_live_with_both: |
          ${ True if children_now_live_with_which_parent == "both" else False }
      - mothers1_name: |
          % if users[0].gender == "male" and other_parties[0].gender == "female":
          ${ other_parties[0] }
          % else:
          ${ users[0] }
          % endif        
      - mothers1_ssn: |
          % if users[0].gender == "male" and other_parties[0].gender == "female":
          ${ other_parties[0].ssn }
          % else:
          ${ users[0].ssn }
          % endif     
      - mothers1_address_on_one_line: |
          % if users[0].gender == "male" and other_parties[0].gender == "female":
          ${ other_parties[0].address.on_one_line() }
          % else:
          % if confidential_contact_info_yn:
          Confidential- Mailing Address: ${ users[0].address.on_one_line() }
          % else:
          ${ users[0].address.on_one_line() }
          % endif
          % endif     
      - mothers1_phone_number: |
          % if users[0].gender == "male" and other_parties[0].gender == "female":
          ${ other_parties[0].phone_number }
          % else:
          ${ users[0].phone_number }
          % endif     
      - fathers1_name: |
          % if users[0].gender == "male" and other_parties[0].gender == "female":
          ${ users[0] }
          % else:
          ${ other_parties[0] }
          % endif     
      - fathers1_ssn: |
          % if users[0].gender == "male" and other_parties[0].gender == "female":
          ${ users[0].ssn }
          % else:
          ${ other_parties[0].ssn }
          % endif   
      - fathers1_address_on_one_line: |
          % if users[0].gender == "male" and other_parties[0].gender == "female":
          % if confidential_contact_info_yn:
          Confidential- Mailing Address: ${ users[0].address.on_one_line() }
          % else:
          ${ users[0].address.on_one_line() }
          % endif
          % else:
          ${ other_parties[0].address.on_one_line() }
          % endif   
      - fathers1_phone_number: | 
          % if users[0].gender == "male" and other_parties[0].gender == "female":
          ${ users[0].phone_number }
          % else:
          ${ other_parties[0].phone_number }
          % endif   
      - confidential_contact_info_yes: ${ confidential_contact_info_yn }
      - confidential_contact_info_no: ${ True if not confidential_contact_info_yn else False }
      - permission_to_collect_overpayment_yes: ${ allow_child_support_overpayment_correction }
      - permission_to_collect_overpayment_no: ${ not allow_child_support_overpayment_correction }
      - collection_percentage_10: ${ allow_child_support_overpayment_correction and child_support_overpayment_percentage == "ten" }
      - collection_percentage_50: ${ allow_child_support_overpayment_correction and child_support_overpayment_percentage == "fifty" }
      - users1_signature: |
          % if MLH_esign:
          /s/ ${ users[0].name_full() }
          % else:
          ${ '' }
          % endif
      - users1_name: |
          % if MLH_esign:
          ${ users[0].name_full() }
          % else:
          ${ '' }
          % endif
      - signature_date: |
          % if MLH_esign:
          ${ signature_date }
          % else:
          ${ '' }
          % endif
      - pursuant_to: |
          % if MLH_esign:
          ${ MLH_esign_tag }
          % else:
          ${ '' }
          % endif
---
# --------------------------------------------------------------------
## Judgment CC-MLH-412 and Attachments
# --------------------------------------------------------------------
---
objects:
  - judgment_ccmlh412: ALDocument.using(title="Judgment", filename="Judgment.pdf", enabled=True, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
---
attachment:
  - name: Judgment ccmlh412 (no kids)
    filename: Judgment ccmlh412 (no kids)
    variable name: judgment_ccmlh412[i]
    pdf template file: judgment_ccmlh412_no_kids.pdf
    editable: False
    fields:
      - trial_court_circuit: |
          % if the_court.type == "circuit":
          ${the_court.number}
          % endif
      - docket_number: |
          % if tool_ID == "JOD_only":
          ${docket_number}
          % endif
      - trial_court_county: ${the_court.address.county}
      - trial_court_address_on_one_line: ${the_court.address.on_one_line()}
      - trial_court_phone_number: ${ the_court.phone }
      - defendants_block: |
          ${defendants}
          ${defendants[0].address.on_one_line()}
          ${word("Does not have phone") if defendants[0].no_phone_number else defendants[0].phone_numbers()}
      - plaintiffs_block: |
          ${plaintiffs}
          ${plaintiffs[0].address.on_one_line()}
          ${word("Does not have phone") if plaintiffs[0].no_phone_number else plaintiffs[0].phone_numbers()}
      - plaintiffs1_name: ${plaintiffs}
      - defendants1_name: ${defendants}
      - spousal_support_none: Yes
      - spousal_support_reserved: No
      - spousal_support_awarded: No
      - personal_property_as_is: |
          ${not personal_property_in_addendum(marriage)}
      - personal_property_in_addendum: |
          ${personal_property_in_addendum(marriage)}
      - debts_none: ${not debts_in_addendum(marriage)}
      - debts_pay_debts_in_own_name: ${marriage.debts.any and marriage.attr("debts.pay_debts_in_own_names")}
      - debts_in_addendum: ${debts_in_addendum(marriage)}
      - vehicles_none: ${not marriage.vehicles.any}
      - vehicles_keep_same: ${marriage.vehicles.any and marriage.attr("vehicles.keep_own")}
      - vehicles_in_addendum: ${marriage.vehicles.any and not marriage.attr("vehicles.keep_own")}
      - real_property_none: ${not bool(marriage.real_property)}
      - real_property_in_addendum: ${bool(marriage.real_property)}
      - pensions_none: ${not marriage.have_pension_retirement}
      - pensions_keep_own: ${marriage.have_pension_retirement and marriage.attr("pension_retirement_accounts_keep_own")}
      - pensions_in_addendum: ${marriage.have_pension_retirement and not marriage.attr("pension_retirement_accounts_keep_own")}
      - total_pages: ""
      - wants_name_change: ${users[0].new_last_name_yn}
      - name_change_plaintiff: ${plaintiffs[0].attr("new_last_name_yn")}
      - name_change_defendant: ${defendants[0].attr("new_last_name_yn")}
      - new_name: ${users[0].attr("new_last_name")}
      - has_personal_property_debt_addendum: ${personal_property_in_addendum(marriage) or debts_in_addendum(marriage)}
      - has_vehicle_addendum: ${has_vehicle_addendum(marriage)}
      - has_real_property_addendum: ${bool(marriage.real_property)}
      - has_pension_addendum: ${marriage.have_pension_retirement and not marriage.attr("pension_retirement_accounts_keep_own")}
      - has_other_provisions: ${marriage.other_provisions_any}
      - other_provisions: ${marriage.attr("other_provisions")}
---
# --------------------------------------------------------------------
## Judgment Information FOC 100 and Attachments
# --------------------------------------------------------------------
---
objects:
  - foc_100_main: ALDocument.using(title="Judgment Information", filename="Judgment Information", default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  - foc_100_attachment: ALDocument.using(title="Judgment Information Addendum", filename="Judgment Information Addendum", default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
---
attachment:
  name: Judgment Information
  variable name: foc_100_main[i]
  skip undefined: True
  editable: False
  pdf template file: judgment_information_foc_100.pdf
  fields:
    - trial_court: ${ the_court.number }
    - trial_court_county: ${ county_choice.upper() }
    - trial_court_address_on_one_line: ${ the_court.address.on_one_line() }
    - trial_court_phone_number: ${ the_court.phone }
    - case_number_1: ${ docket_number }
    - case_number_2: ${ docket_number }
    - previous_info_changed: |
        % if tool_ID == "JOD_only":
        ${ True if marriage.temporary_order and marriage.temporary_order_changed else False }
        % elif tool_ID == "divorce_complaint":
        ${ True if returning_to_finalize and marriage.temporary_order and marriage.temporary_order_changed else False }
        % endif
    - previous_info_unchanged: |
        % if tool_ID == "JOD_only":
        ${ True if marriage.temporary_order and not marriage.temporary_order_changed else False }
        % elif tool_ID == "divorce_complaint":
        ${ True if returning_to_finalize and marriage.temporary_order and not marriage.temporary_order_changed else False }
        % endif
    - signature_date: |
        % if (tool_ID == "JOD_only" and marriage.temporary_order and MLH_esign) or (tool_ID == "divorce_complaint" and returning_to_finalize and marriage.temporary_order and MLH_esign):
        ${ signature_date }
        % endif
    - signature: |
        % if (tool_ID == "JOD_only" and marriage.temporary_order and MLH_esign) or (tool_ID == "divorce_complaint" and returning_to_finalize and marriage.temporary_order and MLH_esign):
        /s/ ${ users[0].name_full() }
        % else:
        ${ '' }
        % endif
    - plaintiff_name: ${plaintiffs[0].name_full()}
    - plaintiff_address: |
        ${ plaintiffs[0].address.line_one() }
        ${ plaintiffs[0].address.line_two() }
    - defendant_name: ${defendants[0].name_full()}
    - defendant_address: |
        ${ defendants[0].address.line_one() }
        ${ defendants[0].address.line_two() }
    - plaintiff_ssn: ${plaintiffs[0].ssn}
    - plaintiff_phone: ${ word("Does not have phone") if plaintiffs[0].no_phone_number else plaintiffs[0].phone_numbers() }
    - defendant_ssn: ${defendants[0].ssn}
    - defendant_phone: ${ word("Unknown phone") if defendants[0].no_phone_number else defendants[0].phone_numbers() }
    - plaintiff_email: ${ plaintiffs[0].email }
    - defendant_email: ${ defendants[0].email }
    - plaintiff_employer_block: |
        % if plaintiffs[0].has_job:
        ${ plaintiffs[0].job.employer.name.first }
        ${ plaintiffs[0].job.employer.address.line_one() }
        ${ plaintiffs[0].job.employer.address.line_two() }
        ${ word("Phone unknown.") if plaintiffs[0].job.employer.phone == "" else users[0].job.employer.phone }
        ${ word("FEIN unknown.") if plaintiffs[0].job.FEIN == "" else plaintiffs[0].job.FEIN }
        % endif
    - defendant_employer_block: |
        % if defendants[0].has_job:
        ${ defendants[0].job.employer.name.first }
        ${ defendants[0].job.employer.address.line_one() }
        ${ defendants[0].job.employer.address.line_two() }
        ${ word("Phone unknown.") if defendants[0].job.employer.phone == "" else defendants[0].job.employer.phone }
        ${ word("FEIN unknown") if defendants[0].job.FEIN == "" else defendants[0].job.FEIN }
        % endif
    - plaintiff_drivers_license_and_state: |
        ${ plaintiffs[0].license_number + " " + plaintiffs[0].license_state }
    - defendant_drivers_license_and_state: |
        ${ defendants[0].license_number + " " + defendants[0].license_state }
    - plaintiff_occupational_block: |
        % if plaintiffs[0].has_professional_license:
        % if plaintiffs[0].professional_license_number != "":
        License no.: ${ plaintiffs[0].professional_license_number }
        % else:
        License no: Not provided
        % endif
        % if plaintiffs[0].professional_license_type != "":
        Type: ${ plaintiffs[0].professional_license_type }
        % else:
        Type: Not provided
        % endif
        % if plaintiffs[0].professional_license_state != "":
        Issuing state: ${ plaintiffs[0].professional_license_state }
        % else:
        Issuing state: Not provided
        % endif
        % if plaintiffs[0].professional_license_date is not None:
        Date: ${ plaintiffs[0].professional_license_date }
        % else:
        Date: Not provided
        % endif
        % endif
    - defendant_occupational_block: |
        % if defendants[0].has_professional_license:
        % if defendants[0].professional_license_number != "":
        License no.: ${ defendants[0].professional_license_number }
        % else:
        License no: Not provided
        % endif
        % if defendants[0].professional_license_type != "":
        Type: ${ defendants[0].professional_license_type }
        % else:
        Type: Not provided
        % endif
        % if defendants[0].professional_license_state != "":
        Issuing state: ${ defendants[0].professional_license_state }
        % else:
        Issuing state: Not provided
        % endif
        % if defendants[0].professional_license_date is not None:
        Date: ${ defendants[0].professional_license_date }
        % else:
        Date: Not provided
        % endif
        % endif
    - children1: ${ children.filter(legal_parent="both")[0].name.full() }
    - children2: ${ children.filter(legal_parent="both")[1].name.full() }
    - children3: ${ children.filter(legal_parent="both")[2].name.full() }
    - children4: |
        % if len(children.filter(legal_parent="both")) > 4:
        See addendum for additional children.
        % elif len(children.filter(legal_parent="both")) == 4:
        ${ children.filter(legal_parent="both")[3].name.full() }
        % endif
    - children1_ssn: ${ children.filter(legal_parent="both")[0].ssn }
    - children2_ssn: ${ children.filter(legal_parent="both")[1].ssn }
    - children3_ssn: ${ children.filter(legal_parent="both")[2].ssn }
    - children4_ssn: |
        % if len(children.filter(legal_parent="both")) == 4:
        ${ children.filter(legal_parent="both")[3].ssn }
        % endif
    - children1_birthdate: ${ format_date(children.filter(legal_parent="both")[0].birthdate, format='MM/dd/yyyy') }
    - children2_birthdate: ${ format_date(children.filter(legal_parent="both")[1].birthdate, format='MM/dd/yyyy') }
    - children3_birthdate: ${ format_date(children.filter(legal_parent="both")[2].birthdate, format='MM/dd/yyyy') }
    - children4_birthdate: |
        % if len(children.filter(legal_parent="both")) == 4:
        ${ format_date(children.filter(legal_parent="both")[3].birthdate, format='MM/dd/yyyy') }
        % endif
    - children1_physical_custody_provisions: |
        % if len(children.filter(legal_parent="both")) > 0:
        % if physical_custody_who == "both":
        J
        % elif physical_custody_who == "user":
        % if user_ask_role == "plaintiff":
        P
        % else:
        D 
        % endif
        % elif physical_custody_who == "other_party":
        % if user_ask_role == "plaintiff":
        D
        % else:
        P 
        % endif
        % endif
        % endif
    - children2_physical_custody_provisions: |
        % if len(children.filter(legal_parent="both")) > 1:
        % if physical_custody_who == "both":
        J
        % elif physical_custody_who == "user":
        % if user_ask_role == "plaintiff":
        P
        % else:
        D 
        % endif
        % elif physical_custody_who == "other_party":
        % if user_ask_role == "plaintiff":
        D
        % else:
        P 
        % endif
        % endif
        % endif
    - children3_physical_custody_provisions: |
        % if len(children.filter(legal_parent="both")) > 2:
        % if physical_custody_who == "both":
        J
        % elif physical_custody_who == "user":
        % if user_ask_role == "plaintiff":
        P
        % else:
        D 
        % endif
        % elif physical_custody_who == "other_party":
        % if user_ask_role == "plaintiff":
        D
        % else:
        P 
        % endif
        % endif
        % endif
    - children4_physical_custody_provisions: |
        % if len(children.filter(legal_parent="both")) == 4:
        % if physical_custody_who == "both":
        J
        % elif physical_custody_who == "user":
        % if user_ask_role == "plaintiff":
        P
        % else:
        D 
        % endif
        % elif physical_custody_who == "other_party":
        % if user_ask_role == "plaintiff":
        D
        % else:
        P 
        % endif
        % endif
        % endif
    - children1_address: |
        % if len(children.filter(legal_parent="both")) > 0:
        % if children_now_live_with_which_parent == "both":
        See addendum for children's addresses.
        % elif children_now_live_with_which_parent == "users[0]" or (children_now_live_with_which_parent == "depends_on_child" and children.filter(legal_parent="both")[0].lives_with == "users[0]"):
        % if confidential_contact_info_yn:
        Confidential
        % else:
        ${ users[0].address.line_one() }
        ${ users[0].address.line_two() }
        % endif
        % elif children_now_live_with_which_parent == "other_parties[0]" or (children_now_live_with_which_parent == "depends_on_child" and children.filter(legal_parent="both")[0].lives_with == "other_parties[0]"):
        ${ other_parties[0].address.line_one() }
        ${ other_parties[0].address.line_two() }
        % endif
        % endif
    - children2_address: |
        % if len(children.filter(legal_parent="both")) > 1:
        % if children_now_live_with_which_parent == "both":
        See addendum for children's addresses.
        % elif children_now_live_with_which_parent == "users[0]" or (children_now_live_with_which_parent == "depends_on_child" and children.filter(legal_parent="both")[1].lives_with == "users[0]"):
        % if confidential_contact_info_yn:
        Confidential
        % else:
        ${ users[0].address.line_one() }
        ${ users[0].address.line_two() }
        % endif
        % elif children_now_live_with_which_parent == "other_parties[0]" or (children_now_live_with_which_parent == "depends_on_child" and children.filter(legal_parent="both")[1].lives_with == "other_parties[0]"):
        ${ other_parties[0].address.line_one() }
        ${ other_parties[0].address.line_two() }
        % endif
        % endif
    - children3_address: |
        % if len(children.filter(legal_parent="both")) > 2:
        % if children_now_live_with_which_parent == "both":
        See addendum for children's addresses.
        % elif children_now_live_with_which_parent == "users[0]" or (children_now_live_with_which_parent == "depends_on_child" and children.filter(legal_parent="both")[2].lives_with == "users[0]"):
        % if confidential_contact_info_yn:
        Confidential
        % else:
        ${ users[0].address.line_one() }
        ${ users[0].address.line_two() }
        % endif
        % elif children_now_live_with_which_parent == "other_parties[0]" or (children_now_live_with_which_parent == "depends_on_child" and children.filter(legal_parent="both")[2].lives_with == "other_parties[0]"):
        ${ other_parties[0].address.line_one() }
        ${ other_parties[0].address.line_two() }
        % endif
        % endif
    - children4_address: |
        % if len(children.filter(legal_parent="both")) == 4:
        % if children_now_live_with_which_parent == "both":
        See addendum for children's addresses.
        % elif children_now_live_with_which_parent == "users[0]" or (children_now_live_with_which_parent == "depends_on_child" and children.filter(legal_parent="both")[4].lives_with == "users[0]"):
        % if confidential_contact_info_yn:
        Confidential
        % else:
        ${ users[0].address.line_one() }
        ${ users[0].address.line_two() }
        % endif
        % elif children_now_live_with_which_parent == "other_parties[0]" or (children_now_live_with_which_parent == "depends_on_child" and children.filter(legal_parent="both")[4].lives_with == "other_parties[0]"):
        ${ other_parties[0].address.line_one() }
        ${ other_parties[0].address.line_two() }
        % endif
        % endif
    - children1_legal_custody_provisions: |
        % if len(children.filter(legal_parent="both")) > 0:
        % if legal_custody_who == "both":
        J
        % elif legal_custody_who == "user":
        % if user_ask_role == "plaintiff":
        P
        % else:
        D 
        % endif
        % elif legal_custody_who == "other_party":
        % if user_ask_role == "plaintiff":
        D
        % else:
        P 
        % endif
        % endif
        % endif
    - children2_legal_custody_provisions: |
        % if len(children.filter(legal_parent="both")) > 1:
        % if legal_custody_who == "both":
        J
        % elif legal_custody_who == "user":
        % if user_ask_role == "plaintiff":
        P
        % else:
        D 
        % endif
        % elif legal_custody_who == "other_party":
        % if user_ask_role == "plaintiff":
        D
        % else:
        P 
        % endif
        % endif
        % endif
    - children3_legal_custody_provisions: |
        % if len(children.filter(legal_parent="both")) > 2:
        % if legal_custody_who == "both":
        J
        % elif legal_custody_who == "user":
        % if user_ask_role == "plaintiff":
        P
        % else:
        D 
        % endif
        % elif legal_custody_who == "other_party":
        % if user_ask_role == "plaintiff":
        D
        % else:
        P 
        % endif
        % endif
        % endif
    - children4_legal_custody_provisions: |
        % if len(children.filter(legal_parent="both")) == 4:
        % if legal_custody_who == "both":
        J
        % elif legal_custody_who == "user":
        % if user_ask_role == "plaintiff":
        P
        % else:
        D 
        % endif
        % elif legal_custody_who == "other_party":
        % if user_ask_role == "plaintiff":
        D
        % else:
        P 
        % endif
        % endif
        % endif
    - support_provisions_stated: ${ True if there_are_marital_children else False }
    - plaintiff_insurance_provider1_name_address: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[0].company_name }
        ${ users[0].insurance[0].company_address }
        % else:
        ${ other_parties[0].insurance[0].company_name }
        ${ other_parties[0].insurance[0].company_address }
        % endif

    - plaintiff_insurance_provider2_name_address: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[1].company_name }
        ${ users[0].insurance[1].company_address }
        % else:
        ${ other_parties[0].insurance[1].company_name }
        ${ other_parties[0].insurance[1].company_address }
        % endif

    - plaintiff_insurance_provider3_name_address: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[2].company_name }
        ${ users[0].insurance[2].company_address }
        % else:
        ${ other_parties[0].insurance[2].company_name }
        ${ other_parties[0].insurance[2].company_address }
        % endif

    - plaintiff_insurance_provider4_name_address: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[3].company_name }
        ${ users[0].insurance[3].company_address }
        % else:
        ${ other_parties[0].insurance[3].company_name }
        ${ other_parties[0].insurance[3].company_address }
        % endif

    - plaintiff_insurance_provider5_name_address: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[4].company_name }
        ${ users[0].insurance[4].company_address }
        % else:
        ${ other_parties[0].insurance[4].company_name }
        ${ other_parties[0].insurance[4].company_address }
        % endif

    - plaintiff_insurance_provider1_policy_group_num: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[0].policy_number }
        % else:
        ${ other_parties[0].insurance[0].policy_number }
        % endif

    - plaintiff_insurance_provider2_policy_group_num: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[1].policy_number }
        % else:
        ${ other_parties[0].insurance[1].policy_number }
        % endif

    - plaintiff_insurance_provider3_policy_group_num: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[2].policy_number }
        % else:
        ${ other_parties[0].insurance[2].policy_number }
        % endif

    - plaintiff_insurance_provider4_policy_group_num: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[3].policy_number }
        % else:
        ${ other_parties[0].insurance[3].policy_number }
        % endif

    - plaintiff_insurance_provider5_policy_group_num: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[4].policy_number }
        % else:
        ${ other_parties[0].insurance[4].policy_number }
        % endif

    - plaintiff_insurance_provider1_cert_num: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[0].certificate_number }
        % else:
        ${ other_parties[0].insurance[0].certificate_number }
        % endif

    - plaintiff_insurance_provider2_cert_num: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[1].certificate_number }
        % else:
        ${ other_parties[0].insurance[1].certificate_number }
        % endif

    - plaintiff_insurance_provider3_cert_num: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[2].certificate_number }
        % else:
        ${ other_parties[0].insurance[2].certificate_number }
        % endif

    - plaintiff_insurance_provider4_cert_num: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[3].certificate_number }
        % else:
        ${ other_parties[0].insurance[3].certificate_number }
        % endif

    - plaintiff_insurance_provider5_cert_num: |
        % if user_ask_role == "plaintiff":
        ${ users[0].insurance[4].certificate_number }
        % else:
        ${ other_parties[0].insurance[4].certificate_number }
        % endif

    - plaintiff_insurance_provider1_children: |
        % if user_ask_role == "plaintiff":
        % if len(children) == 1:
        % if users[0].insurance[0].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(users[0].insurance[0].covers_child) }
        % endif
        % else:
        % if len(children) == 1:
        % if other_parties[0].insurance[0].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(other_parties[0].insurance[0].covers_child) }
        % endif
        % endif

    - plaintiff_insurance_provider2_children: |
        % if user_ask_role == "plaintiff":
        % if len(children) == 1:
        % if users[0].insurance[1].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(users[0].insurance[1].covers_child) }
        % endif
        % else:
        % if len(children) == 1:
        % if other_parties[0].insurance[1].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(other_parties[0].insurance[1].covers_child) }
        % endif
        % endif

    - plaintiff_insurance_provider3_children: |
        % if user_ask_role == "plaintiff":
        % if len(children) == 1:
        % if users[0].insurance[2].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(users[0].insurance[2].covers_child) }
        % endif
        % else:
        % if len(children) == 1:
        % if other_parties[0].insurance[2].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(other_parties[0].insurance[2].covers_child) }
        % endif
        % endif

    - plaintiff_insurance_provider4_children: |
        % if user_ask_role == "plaintiff":
        % if len(children) == 1:
        % if users[0].insurance[3].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(users[0].insurance[3].covers_child) }
        % endif
        % else:
        % if len(children) == 1:
        % if other_parties[0].insurance[3].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(other_parties[0].insurance[3].covers_child) }
        % endif
        % endif

    - plaintiff_insurance_provider5_children: |
        % if user_ask_role == "plaintiff":
        % if len(children) == 1:
        % if users[0].insurance[4].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(users[0].insurance[4].covers_child) }
        % endif
        % else:
        % if len(children) == 1:
        % if other_parties[0].insurance[4].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(other_parties[0].insurance[4].covers_child) }
        % endif
        % endif

    - plaintiff_insurance_provider1_medical: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[0].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[0].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider2_medical: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[1].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[1].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider3_medical: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[2].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[2].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider4_medical: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[3].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[3].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider5_medical: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[4].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[4].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif

    - plaintiff_insurance_provider1_dental: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[0].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[0].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider2_dental: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[1].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[1].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider3_dental: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[2].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[2].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider4_dental: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[3].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[3].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider5_dental: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[4].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[4].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif

    - plaintiff_insurance_provider1_optical: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[0].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[0].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider2_optical: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[1].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[1].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider3_optical: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[2].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[2].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider4_optical: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[3].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[3].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider5_optical: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[4].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[4].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif

    - plaintiff_insurance_provider1_other: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[0].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[0].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider2_other: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[1].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[1].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider3_other: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[2].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[2].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider4_other: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[3].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[3].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - plaintiff_insurance_provider5_other: |
        % if user_ask_role == "plaintiff":
        % if users[0].insurance[4].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[4].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif

    - defendant_insurance_provider1_name_address: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[0].company_name }
        ${ users[0].insurance[0].company_address }
        % else:
        ${ other_parties[0].insurance[0].company_name }
        ${ other_parties[0].insurance[0].company_address }
        % endif

    - defendant_insurance_provider2_name_address: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[1].company_name }
        ${ users[0].insurance[1].company_address }
        % else:
        ${ other_parties[0].insurance[1].company_name }
        ${ other_parties[0].insurance[1].company_address }
        % endif

    - defendant_insurance_provider3_name_address: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[2].company_name }
        ${ users[0].insurance[2].company_address }
        % else:
        ${ other_parties[0].insurance[2].company_name }
        ${ other_parties[0].insurance[2].company_address }
        % endif

    - defendant_insurance_provider4_name_address: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[3].company_name }
        ${ users[0].insurance[3].company_address }
        % else:
        ${ other_parties[0].insurance[3].company_name }
        ${ other_parties[0].insurance[3].company_address }
        % endif

    - defendant_insurance_provider5_name_address: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[4].company_name }
        ${ users[0].insurance[4].company_address }
        % else:
        ${ other_parties[0].insurance[4].company_name }
        ${ other_parties[0].insurance[4].company_address }
        % endif

    - defendant_insurance_provider1_policy_group_num: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[0].policy_number }
        % else:
        ${ other_parties[0].insurance[0].policy_number }
        % endif

    - defendant_insurance_provider2_policy_group_num: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[1].policy_number }
        % else:
        ${ other_parties[0].insurance[1].policy_number }
        % endif

    - defendant_insurance_provider3_policy_group_num: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[2].policy_number }
        % else:
        ${ other_parties[0].insurance[2].policy_number }
        % endif

    - defendant_insurance_provider4_policy_group_num: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[3].policy_number }
        % else:
        ${ other_parties[0].insurance[3].policy_number }
        % endif

    - defendant_insurance_provider5_policy_group_num: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[4].policy_number }
        % else:
        ${ other_parties[0].insurance[4].policy_number }
        % endif

    - defendant_insurance_provider1_cert_num: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[0].certificate_number }
        % else:
        ${ other_parties[0].insurance[0].certificate_number }
        % endif

    - defendant_insurance_provider2_cert_num: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[1].certificate_number }
        % else:
        ${ other_parties[0].insurance[1].certificate_number }
        % endif

    - defendant_insurance_provider3_cert_num: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[2].certificate_number }
        % else:
        ${ other_parties[0].insurance[2].certificate_number }
        % endif

    - defendant_insurance_provider4_cert_num: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[3].certificate_number }
        % else:
        ${ other_parties[0].insurance[3].certificate_number }
        % endif

    - defendant_insurance_provider5_cert_num: |
        % if user_ask_role == "defendant":
        ${ users[0].insurance[4].certificate_number }
        % else:
        ${ other_parties[0].insurance[4].certificate_number }
        % endif

    - defendant_insurance_provider1_children: |
        % if user_ask_role == "defendant":
        % if len(children) == 1:
        % if users[0].insurance[0].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(users[0].insurance[0].covers_child) }
        % endif
        % else:
        % if len(children) == 1:
        % if other_parties[0].insurance[0].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(other_parties[0].insurance[0].covers_child) }
        % endif
        % endif

    - defendant_insurance_provider2_children: |
        % if user_ask_role == "defendant":
        % if len(children) == 1:
        % if users[0].insurance[1].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(users[0].insurance[1].covers_child) }
        % endif
        % else:
        % if len(children) == 1:
        % if other_parties[0].insurance[1].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(other_parties[0].insurance[1].covers_child) }
        % endif
        % endif

    - defendant_insurance_provider3_children: |
        % if user_ask_role == "defendant":
        % if len(children) == 1:
        % if users[0].insurance[2].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(users[0].insurance[2].covers_child) }
        % endif
        % else:
        % if len(children) == 1:
        % if other_parties[0].insurance[2].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(other_parties[0].insurance[2].covers_child) }
        % endif
        % endif

    - defendant_insurance_provider4_children: |
        % if user_ask_role == "defendant":
        % if len(children) == 1:
        % if users[0].insurance[3].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(users[0].insurance[3].covers_child) }
        % endif
        % else:
        % if len(children) == 1:
        % if other_parties[0].insurance[3].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(other_parties[0].insurance[3].covers_child) }
        % endif
        % endif

    - defendant_insurance_provider5_children: |
        % if user_ask_role == "defendant":
        % if len(children) == 1:
        % if users[0].insurance[4].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(users[0].insurance[4].covers_child) }
        % endif
        % else:
        % if len(children) == 1:
        % if other_parties[0].insurance[4].covers_child:
        ${ children[0] }
        % endif
        % else:
        ${ comma_and_list(other_parties[0].insurance[4].covers_child) }
        % endif
        % endif

    - defendant_insurance_provider1_medical: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[0].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[0].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider2_medical: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[1].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[1].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider3_medical: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[2].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[2].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider4_medical: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[3].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[3].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider5_medical: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[4].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[4].coverage_type['medical']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif

    - defendant_insurance_provider1_dental: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[0].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[0].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider2_dental: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[1].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[1].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider3_dental: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[2].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[2].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider4_dental: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[3].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[3].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider5_dental: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[4].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[4].coverage_type['dental']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif

    - defendant_insurance_provider1_optical: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[0].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[0].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider2_optical: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[1].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[1].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider3_optical: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[2].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[2].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider4_optical: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[3].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[3].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider5_optical: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[4].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[4].coverage_type['optical/vision']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif

    - defendant_insurance_provider1_other: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[0].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[0].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider2_other: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[1].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[1].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider3_other: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[2].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[2].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider4_other: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[3].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[3].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
    - defendant_insurance_provider5_other: |
        % if user_ask_role == "defendant":
        % if users[0].insurance[4].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % else:
        % if other_parties[0].insurance[4].coverage_type['other']:
        ${ True }
        % else:
        ${ False }
        % endif
        % endif
---
attachments:
  name: Judgment Information Addendum
  filename: Judgment Information Addendum
  docx template file: judgment_information_foc_100_attachment.docx
  variable name: foc_100_attachment[i]
  skip undefined: True
  valid formats:
    - pdf
---
# --------------------------------------------------------------------
## Uniform Child Support Order FOC 10 and Attachments
# --------------------------------------------------------------------
---
objects:
  - foc_10_main: ALDocument.using(title="Uniform Child Support Order", filename="Uniform Child Support Order", default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
  - foc_10_attachment: ALDocument.using(title="Uniform Child Support Order Addendum", filename="Uniform Child Support Order Addendum", default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
---
attachment:
  name: Uniform Child Support Order
  variable name: foc_10_main[i]
  skip undefined: True
  editable: False
  pdf template file: uniform_child_support_order_foc_10.pdf
  fields:
    # Note: Tags below may use placeholder variables. These may need to be changed once they are
    # actually defined and incorporated into the interview.

    - trial_court: ${ the_court.number }
    - trial_court_county: ${ county_choice.upper() }
    - case_number_1: ${ docket_number }
    - case_number_2: ${ docket_number }
    - case_number_3: ${ docket_number }
    - case_number_4: ${ docket_number }
    - trial_court_address_on_one_line: ${ the_court.address.on_one_line() }
    - trial_court_phone_number: ${ the_court.phone }

    - plaintiff_block: |
        % if user_ask_role == "plaintiff":
        ${ users[0].name_full() }
        ${ users[0].address.line_one() }
        ${ users[0].address.line_two() }
        ${ word("Does not have phone") if users[0].no_phone_number else users[0].phone_numbers() }
        % elif user_ask_role == "defendant":
        ${ other_parties[0].name_full() }
        ${ other_parties[0].address.line_one() }
        ${ other_parties[0].address.line_two() }
        ${ word("Does not have phone") if other_parties[0].no_phone_number else other_parties[0].phone_numbers() }
        % endif

    - defendant_block: |
        % if user_ask_role == "defendant":
        ${ users[0].name_full() }
        ${ users[0].address.line_one() }
        ${ users[0].address.line_two() }
        ${ word("Does not have phone") if users[0].no_phone_number else users[0].phone_numbers() }
        % elif user_ask_role == "plaintiff":
        ${ other_parties[0].name_full() }
        ${ other_parties[0].address.line_one() }
        ${ other_parties[0].address.line_two() }
        ${ word("Does not have phone") if other_parties[0].no_phone_number else other_parties[0].phone_numbers() }
        % endif

    - plaintiffs_attorney_block: |
        % if user_ask_role == "plaintiff":
        ${ users[0].attorney.name_full() }
        ${ users[0].attorney.address.line_one() }
        ${ users[0].attorney.address.line_two() }
        ${ word("Does not have phone") if users[0].attorney.no_phone_number else users[0].attorney.phone_numbers() }
        % elif user_ask_role == "defendant":
        ${ other_parties[0].attorney.name_full() }
        ${ other_parties[0].attorney.address.line_one() }
        ${ other_parties[0].attorney.address.line_two() }
        ${ word("Does not have phone") if other_parties[0].attorney.no_phone_number else other_parties[0].attorney.phone_numbers() }
        % endif

    - defendants_attorney_block: |
        % if user_ask_role == "defendant":
        ${ users[0].attorney.name_full() }
        ${ users[0].attorney.address.line_one() }
        ${ users[0].attorney.address.line_two() }
        ${ word("Does not have phone") if users[0].attorney.no_phone_number else users[0].attorney.phone_numbers() }
        % elif user_ask_role == "plaintiff":
        ${ other_parties[0].attorney.name_full() }
        ${ other_parties[0].attorney.address.line_one() }
        ${ other_parties[0].attorney.address.line_two() }
        ${ word("Does not have phone") if other_parties[0].attorney.no_phone_number else other_parties[0].attorney.phone_numbers() }
        % endif

    - plaintiff_employer_block: |
        % if user_ask_role == "plaintiff":
        ${ users[0].job.employer.name }
        ${ users[0].job.employer.address.line_one() }
        ${ users[0].job.employer.address.line_two() }
        ${ word("Phone unknown.") if users[0].job.employer.phone == "" else users[0].job.employer.phone }
        ${ word("FEIN unknown.") if users[0].job.FEIN == "" else users[0].job.FEIN }
        % else:
        ${ other_parties[0].job.employer.name }
        ${ other_parties[0].job.employer.address.line_one() }
        ${ other_parties[0].job.employer.address.line_two() }
        ${ word("FEIN unknown.") if other_parties[0].job.FEIN == "" else other_parties[0].job.FEIN }
        % endif

    - defendant_employer_block: |
        % if user_ask_role == "defendant":
        ${ users[0].job.employer.name }
        ${ users[0].job.employer.address.line_one() }
        ${ users[0].job.employer.address.line_two() }
        ${ word("Phone unknown.") if users[0].job.employer.phone == "" else users[0].job.employer.phone }
        ${ word("FEIN unknown") if users[0].job.FEIN == "" else users[0].job.FEIN }
        % else:
        ${ other_parties[0].job.employer.name }
        ${ other_parties[0].job.employer.address.line_one() }
        ${ other_parties[0].job.employer.address.line_two() }
        ${ word("Phone unknown.") if other_parties[0].job.employer.phone == "" else other_parties[0].job.employer.phone }
        ${ word("FEIN unknown.") if other_parties[0].job.FEIN == "" else other_parties[0].job.FEIN }
        % endif

    - children1: ${ children[0] }
    - children2: ${ children[1] if len(children) > 1 else "" }
    - children3: ${ children[2] if len(children) > 2 else "" }
    - children4: ${ children[3] if len(children) > 3 else "" }
    - children5: ${ children[4] if len(children) > 4 else "" }
    - more_children: |
        % if len(children.complete_elements()) > 5:
        See "Children's Names" in Addendum.
        % else:
        ${ '' }
        % endif
---
attachments:
  name: Uniform Child Support Order Addendum
  filename: Uniform Child Support Order Addendum
  docx template file: child_support_foc_10_attachment.docx
  variable name: foc_10_attachment[i]
  skip undefined: True
  valid formats:
    - pdf
---
# The following functions are here so that the logic can be kept consistent,
# since these logical checks are used in multiple fields of the Judgment.
---
code: |
  def personal_property_in_addendum(marriage: DAObject) -> bool:
    return marriage.personal_property_acquired and (
      not marriage.attr("personal_property_division_agreement")
      or not marriage.attr("personal_property_division_actual")
    )
---
code: |
  def debts_in_addendum(marriage: DAObject) -> bool:
    return marriage.debts.any and (
      not marriage.attr("debts.agree_responsibility_debts_own_name")
      or marriage.attr("debts.any_in_both_names")
    )
---
code: |
  def has_vehicle_addendum(marriage: DAObject) -> bool:
    return (
      marriage.vehicles.any
      and not marriage.attr("vehicles.keep_own")
      and any(not item.agree for item in marriage.vehicles)
    )
---

