---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ALAnyState:any_state.yml
  - docassemble.ALToolbox:collapse_template.yml
  - docassemble.mlhframework:mlh_interview_framework.yml
---
modules:
  - docassemble.ALToolbox.al_income
  - docassemble.ALToolbox.ThreePartsDate
---
# TODO subtitle? & confirm description
metadata:
  title: Michigan Judgment of Divorce
  short title: Michigan Judgment of Divorce
  description: |
    Self-help interview to obtain a Judgment of Divorce and other documents needed to finish a divorce in Michigan.
  tags:
    - Family
  authors:
    - Jack Adamson
    - Kelly McGuire
    - Emily Miller
---
features:
  labels above fields: True
---
# TODO sections
sections:
  - signpost_intro: "Introduction"
  - signpost_qualify: "Do you qualify?"
  - signpost_user: "Your Information"
  - signpost_done: "Done"
  - review_full: "✎ <u>Review / Edit</u>"
---
code:  |
  github_repo_name = 'docassemble-MLHDivorceAndCustody' if get_config('debug') else 'docassemble-UserFeedback'
---
# TODO need survey url
code: |
  survey_link_url_only = "https://www.surveymonkey.com/r/xxxxxx"
---
# TODO need survey script
template: survey_embed_script
content: |
  <script>
  </script>
---
# TODO confirm form type
# set intro landing screen variables
code: |
  MLH_form_type = "Judgment of Divorce"
  MLH_time_min = 15
  MLH_time_max = 45
---
template: MLH_welcome_message
content: |
  Welcome to Michigan Legal Help's Do-It-Yourself ${MLH_form_type} tool.

  This tool will help you prepare forms to finish your divorce in Michigan. Use this tool if all you need is a Judgment of Divorce and the forms that go with it.
---
# TODO need resource url & confirm page name
code: |
  resource_page_url_only = "https://michiganlegalhelp.org/node/xxxx"
  resource_page_name = "Judgment of Divorce"
---
# =============================================================================
## interview block
# =============================================================================
---
id: interview_order_michigan_judgment_of_divorce
mandatory: True
scan for variables: False
code: |
  set_interview_terms
  reconsider("set_interview_terms") # TODO remove before publishing
  nav.set_section("review_full")
  nav.set_section("signpost_intro")
  MLH_standard_intro_pages

  nav.set_section("signpost_qualify")
  if not marriage.pending_divorce:
    exit_no_pending_divorce

  county_choice # TODO custom? "In what county was the divorce filed?"
  docket_number # TODO custom? "What is the case number? Be certain to enter the “-DO” or “-DM” at the end of the number."
  user_ask_role

  if not marriage.breakdown:
    exit_no_marriage_breakdown

  marriage.request_spousal_support
  if not marriage.request_spousal_support_continue:
    exit_general

  marriage.real_property.there_are_any

  if marriage.have_pension_retirement:
    marriage.pension_retirement_accounts
    if not marriage.pension_retirement_accounts_continue:
      exit_general

  if marriage.have_financial_instruments:
    if marriage.financial_instruments_held_together:
      marriage.financial_instruments_held_together_agree_about_division
      if not marriage.financial_instruments_held_together_continue:
        exit_general
    else:
      if marriage.financial_instruments_keep_or_divide == "divide":
        exit_general
      elif marriage.financial_instruments_keep_or_divide == "keep":
        if not marriage.financial_instruments_keep_own_continue:
          exit_general

  if marriage.have_business:
    exit_general

  if marriage.have_experienced_domestic_violence:
    if not marriage.have_experienced_domestic_violence_continue:
      exit_general

  users.gather()
  users[0].name.first
  users[0].previous_last_name_yn
  users[0].new_last_name_yn
  users[0].gender # TODO remove or set if we end up asking for gender in the screening
  users[0].marriage_number
  users[0].birthdate
  users[0].birthplace
  confidential_contact_info_yn

  # TODO: address handling is temporary while we work on new hybrid address screen
  # if users[0].address.country == "US" and users[0].address.state == "MI":
  if users[0].address.state == "MI":
    users[0].village_or_township_yn

  # users[0].mailing_address_yn

  users[0].phone_number
  users[0].email

  other_parties.gather()
  other_parties[0].name.first
  other_parties[0].previous_last_name_yn
  other_parties[0].gender # TODO remove or set if we end up asking for gender in the screening
  other_parties[0].marriage_number
  other_parties[0].birthdate
  other_parties[0].birthplace

  # TODO: address handling is temporary while we work on new hybrid address screen
  # if other_parties[0].address.country == "US" and other_parties[0].address.state == "MI":
  if other_parties[0].address.state == "MI":
    other_parties[0].village_or_township_yn

  # other_parties[0].mailing_address_yn

  if other_parties[0].has_attorney:
    other_parties[0].attorney.name.first
    other_parties[0].attorney.address.address
    other_parties[0].attorney.phone_number

  marriage.date
  marriage.address.city
  if not marriage.living_together_yn:
    marriage.living_together_stopped_date

  marriage.health_coverage

  marriage.personal_property_info
  if marriage.personal_property_acquired:
    if not marriage.personal_property_division_agreement or not marriage.personal_property_division_actual:
      pass
      # bank accounts
      # other personal property
      # mobile home

  marriage.debts_info
  if marriage.debts_any:
    if not marriage.debts_pay_own:
      marriage.debts_responsibility_agree
    if marriage.debts_joint:
      marriage.debts_joint_responsibility_agree
      pass
      # Do you and your spouse agree on who will be responsible for these debts?
      # (Yes/No)
      # List each jointly debt (debts in both of your names) that will be divided and indicate whether you or your spouse (will/should) be responsible for it.
      # Do NOT include credit card numbers or any other identifying number associated with a debt.
      # Type of debtTo whom do you owe moneyApproximate balanceDO NOT enter a dollar signResponsibility of
  marriage.debts.gather()

---
code: |
  update_terms(
    {
      "investments": "Stocks, bonds, Certificates of Deposit (CDs), mutual funds, Money Market Accounts, or other investments, not including pensions or retirement accounts.",
    }
  )
  set_interview_terms = True
---
code: |
  def dynamic_field(field: str) -> str:
    match field:
      case "users[0]":
        return str(users[0])
      case "other_parties[0]":
        return str(other_parties[0])
      case "joint":
        return "Joint (50/50)"
      case _:
        return "None"
---
# =============================================================================
## objects
# =============================================================================
---
objects:
  - users: ALPeopleList.using(
      there_are_any=True,
      there_is_another=False,
      target_number=1,
      )
  - other_parties: ALPeopleList.using(
      there_are_any=True,
      there_is_another=False,
      target_number=1,
      )
  - other_parties[0].attorney: ALIndividual
  - children: ALPeopleList.using(
      ask_number=True,
      complete_attribute="complete",
      )
  - judges: ALPeopleList.using(
      there_are_any=True,
      there_is_another=False,
      target_number=1,
      complete_attribute="complete",
      )
  - marriage: DAObject
  - marriage.address: ALAddress
  - marriage.real_property: DAList.using(
      object_type=Thing,
      ask_number=True,
      complete_attribute="complete",
      )
  - marriage.debts: ALAssetList.using(
      complete_attribute="complete",
      )
---
code: |
  marriage.real_property[i].initializeAttribute("address", Address)
  marriage.real_property[i].address.address
  marriage.real_property[i].name.text
  marriage.real_property[i].complete = True
---
code: |
  marriage.debts[i].kind
  marriage.debts[i].owner
  marriage.debts[i].balance
  marriage.debts[i].responsibility
  marriage.debts[i].complete = True
---
table: marriage.debts.table
rows: marriage.debts
columns:
  - Type of debt: row_item.kind
  - To whom do you owe money: row_item.owner
  - Approximate balance: row_item.balance
  - Responsibility of: row_item.responsibility
edit:
  - kind
  - owner
  - balance
  - responsibility
confirm: True
---
# =============================================================================
## questions
# =============================================================================
---
# -----------------------------------------------------------------------------
## exits
# -----------------------------------------------------------------------------
---
# TODO determine if we want specific exit screens for each reason (using templates)
# TODO maybe generate their documents thus far like LHI does?
id: exit_general
event: exit_general
question: |
  Sorry, this tool cannot help you.
subquestion: |
  You may want to contact a lawyer for help. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you.

  If you think you made a mistake, tap **Undo** and change the answer to this question.
action buttons:
  - label: Exit
    action: https://michiganlegalhelp.org/resources/family
    new window: True
    color: danger
    icon: right-from-bracket
---
id: exit_no_pending_divorce
event: exit_no_pending_divorce
question: |
  Sorry, this tool cannot help you.
subquestion: |
  You must have a pending Michigan divorce case to use this tool. This tool is only for completing your Judgment of Divorce and related papers in an existing divorce case. If you need to file a Michigan Divorce case, return to the Michigan Legal Help website to either the [Filing for Divorce with Children](https://michiganlegalhelp.org/resources/family/filing-divorce-children) Resource page or the [Filing for Divorce without Children](https://michiganlegalhelp.org/resources/family/filing-divorce-without-children) Resource page.

  You may want to contact a lawyer for help. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you.

  If you think you made a mistake, tap **Undo** and change the answer to this question.
action buttons:
  - label: Exit
    action: https://michiganlegalhelp.org/resources/family
    new window: True
    color: danger
    icon: right-from-bracket
---
id: exit_no_marriage_breakdown
event: exit_no_marriage_breakdown
question: |
  Sorry, this tool cannot help you.
subquestion: |
  If you are unable to testify to the breakdown of your marriage, you cannot use this tool to create a Judgment of Divorce.

  You may want to contact a lawyer for help. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you.

  If you think you made a mistake, tap **Undo** and change the answer to this question.
action buttons:
  - label: Exit
    action: https://michiganlegalhelp.org/resources/family
    new window: True
    color: danger
    icon: right-from-bracket
---
id: exit_children
event: exit_children
question: |
  Sorry, this tool cannot help you.
subquestion: |
  If you and your spouse have a child together and both of you are not the child's legal parents, there may be complicated issues about parentage in your divorce. Contact a lawyer to help you. To learn more, read Separation and Divorce: An Overview for Same-sex Families. Use the Guide to Legal Help to look for a lawyer near you.

  You may want to contact a lawyer for help. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you.

  If you think you made a mistake, tap **Undo** and change the answer to this question.
action buttons:
  - label: Exit
    action: https://michiganlegalhelp.org/resources/family
    new window: True
    color: danger
    icon: right-from-bracket
---
# -----------------------------------------------------------------------------
## overrides
# -----------------------------------------------------------------------------
---

---
# -----------------------------------------------------------------------------
## introduction
# -----------------------------------------------------------------------------
---
id: marriage.pending_divorce
question: |
  Pending divorce
fields:
  - label: Do you have a pending divorce case with this spouse in any court?
    field: marriage.pending_divorce
    datatype: yesnoradio
---
id: what is the user's role?
question: |
  Are you the Plaintiff or the Defendant in this case?
subquestion: |
  ${ collapse_template(help_user_ask_role_template) }
fields:
  - label: What party are you in your case?
    field: user_ask_role
    label above field: True
    datatype: radio
    choices:
      - label: I am the Plaintiff
        value: plaintiff
      - label: I am the Defendant
        value: defendant
  - note: |
      Okay, you are the **Plaintiff** in this case. The other
      side is the Defendant.
    show if:
      variable: user_ask_role
      is: plaintiff
  - note: |
      Okay, you are the **Defendant** in this case. The other
      side is the Plaintiff.
    show if:
      variable: user_ask_role
      is: defendant
---
id: marriage.breakdown
question: |
  Marriage breakdown
subquestion: |
  Michigan law requires you to testify that there has been a breakdown of the marriage to the extent that the objects of matrimony have been destroyed and there remains no reasonable likelihood that your marriage can be preserved. This means that there has been a serious, permanent, marital breakdown. It means it is very unlikely that you and your spouse can work things out.
fields:
  - label: Has there been a breakdown of the marriage to the extent that the objects of matrimony have been destroyed and there remains no reasonable likelihood that the marriage can be preserved?
    field: marriage.breakdown
    datatype: yesnoradio
---
id: marriage.request_spousal_support
question: |
  Spousal support
fields:
  - label: Do you plan to ask the judge to order your spouse to support you financially, other than with child support?
    field: marriage.request_spousal_support
    datatype: yesnoradio
  - note: |
      WARNING! This tool cannot help you ask for spousal support. A spousal request must be made in either the Complaint for Divorce or Counterclaim for Divorce. Asking for spousal support is complicated, and the form produced by this tool cannot do that. If you want to ask for spousal support, find a lawyer to help you. To get lawyer referral information, use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) section of the Michigan Legal Help website.

      If you and your spouse agree that one of you will pay spousal support, or if the judge orders spousal support in your case, you can indicate that in the spousal support paragraph of the Judgment of Divorce that you will get from this tool, and fill out a [Uniform Spousal Support Order](https://www.courts.michigan.gov/4a7e2f/siteassets/forms/scao-approved/foc10b.pdf) to attach.
    show if:
      variable: marriage.request_spousal_support
      is: True
  - note: |
      WARNING! If you don't ask for spousal support now, you will not be allowed to come back to court later and ask for it. If you are unsure whether you might want or need spousal support in the future, you should request it now to preserve your right to ask for it later.
    show if:
      variable: marriage.request_spousal_support
      is: False
  - label: Do you want to continue?
    field: marriage.request_spousal_support_continue
    datatype: yesnoradio
    hide if:
      variable: marriage.request_spousal_support
      is: None
---
id: real_property_there_are_any
question: |
  Real property
subquestion: |
  Real property is real estate such as a house, a condo, or land.
fields:
  - label: Do you or your spouse own real property that was bought or paid for while you were married?
    field: marriage.real_property.there_are_any
    datatype: yesnoradio
  - label: How many pieces of real property do you and your spouse own?
    field: marriage.real_property.target_number
    datatype: integer
    min: 1
    show if: marriage.real_property.there_are_any
---
on change:
  marriage.real_property.there_are_any: |
    if not marriage.real_property.there_are_any:
      marriage.real_property.target_number = 0
      marriage.real_property.clear()
---
id: marriage.have_pension_retirement
question: |
  Pension and/or retirement accounts
fields:
  - label: Do you or your spouse have a pension or retirement account?
    field: marriage.have_pension_retirement
    datatype: yesnoradio
---
id: marriage.pension_retirement_accounts
question: |
  Pension and/or retirement accounts
fields:
  - label: Do you each plan to keep your own accounts or do you want to ask the judge to divide your accounts?
    field: marriage.pension_retirement_accounts
    input type: radio
    choices:
      - label: We will each keep our own account(s)
        value: keep
      - label: I want the judge to divide our account(s)
        value: divide
---
if: marriage.pension_retirement_accounts == "keep"
id: pension_retirement_accounts_keep
question: |
  Pension and/or retirement accounts
subquestion: |
  You may have a right to part of your spouse's pension or retirement account, and your spouse may have a right to part of yours. This is an important decision that can impact your future. Sometimes it is hard to know the full value of a pension or retirement account, especially if an account includes future benefits. If you don't know all the details of each person's pension and retirement accounts, you may want to consider talking to a lawyer before you decide how you want to divide them.
fields:
  - label: Do you want to continue with the tool, knowing that you will not get a share of your spouse's pension or retirement account and will not be able to return to court in the future and ask for a change?
    field: marriage.pension_retirement_accounts_continue
    datatype: yesnoradio
---
if: marriage.pension_retirement_accounts == "divide"
id: pension_retirement_accounts_divide
question: |
  Pension and/or retirement accounts
subquestion: |
  WARNING! This tool may not be right for you. Dividing pensions or retirement accounts is not simple. Neither this tool nor the Michigan Legal Help website will divide your pensions or retirement accounts. You can still complete this tool to prepare your Judgment of Divorce. The Judgment of Divorce produced after this tool will state that you have pensions or retirement accounts to divide, but the Judgment of Divorce will not divide them. You may want to consider hiring a lawyer to ask the judge to divide your pensions or retirement accounts. A lawyer can also draft the special order that is required.

  If you want to hire a lawyer to help you divide your pensions or retirement accounts and finish your case, you can find referral information in the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) section of the Michigan Legal Help website.
fields:
  - label: Do you want to continue?
    field: marriage.pension_retirement_accounts_continue
    datatype: yesnoradio
---
id: marriage.have_financial_instruments
question: |
  Financial investments
subquestion: |
   Do not consider pensions or retirement accounts here.
fields:
  - label: Do you or your spouse own any stocks, bonds, Certificates of Deposit (CDs), mutual funds, Money Market Accounts, or other investments?
    field: marriage.have_financial_instruments
    datatype: yesnoradio
---
id: marriage.financial_instruments_held_together
question: |
  Financial investments
fields:
  - label: Are any of these {investments} held in both of your names?
    field: marriage.financial_instruments_held_together
    datatype: yesnoradio
---
id: marriage.financial_instruments_held_together_agree_about_division
question: |
  Financial investments
fields:
  - label: Do you and your spouse agree on how these {investments} will be divided?
    field: marriage.financial_instruments_held_together_agree_about_division
    datatype: yesnoradio
---
id: marriage.financial_instruments_held_together_continue
question: |
  Financial investments
subquestion: |
  WARNING! This tool may not be right for you. Investments held in both spouses' names must be divided as part of your Judgment of Divorce. There may also be problems actually dividing these assets up after the Judgment is final. Dividing investments is not simple. You cannot use this tool or the Michigan Legal Help website to do this.

  You may want to consider hiring a lawyer to help you divide your investments. Consider asking a financial planner for advice on how to transfer investments and about tax issues that come with transferring investments. You can still complete this tool to prepare your Judgment of Divorce. You will be allowed to divide your investments in your Judgment of Divorce. However, the Judgment of Divorce will not include any information about how the investments will be transferred or about tax liability. Your investments will not be transferred automatically to the person they are awarded to in the Judgment of Divorce. There are more steps that need to be followed after the Judgment of Divorce is final.

  If you want to hire a lawyer to help you divide your investments and finish your case, you can find referral information in the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) section of the Michigan Legal Help website.
fields:
  - label: Do you want to continue?
    field: marriage.financial_instruments_held_together_continue
    datatype: yesnoradio
---
id: marriage.financial_instruments_keep_or_divide
question: |
  Financial investments
fields:
  - label: Do you each plan to keep your own accounts or do you want to ask the judge to divide your accounts?
    field: marriage.financial_instruments_keep_or_divide
    input type: radio
    choices:
      - label: We will each keep our own account(s)
        value: keep
      - label: I want the judge to divide our account(s)
        value: divide
---
id: marriage.financial_instruments_keep_own_continue
question: |
  Financial investments
subquestion: |
  You may have a right to part of the investments that are only in your spouse's name, and your spouse may have a right to part of the investments that are only in your name. This is an important decision that can impact your future. Sometimes it is hard to know the full value of an investment. If you don't know all the details of your marital investments, you may want to consider talking to a lawyer before you decide how you want to divide your investments. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you.
fields:
  - label: Do you want to continue with the tool, knowing that you will not be awarded a share in investments that are in your spouse's name and will not be able to return to court in the future and ask for a change?
    field: marriage.financial_instruments_keep_own_continue
    datatype: yesnoradio
---
id: marriage.have_business
question: |
  Business ownership
fields:
  - label: Do you or your spouse own a business?
    field: marriage.have_business
    datatype: yesnoradio
---
id: marriage.have_experienced_domestic_violence
question: |
  Domestic violence
fields:
  - label: Have you experienced domestic violence or threats of domestic violence by your spouse?
    field: marriage.have_experienced_domestic_violence
    datatype: yesnoradio
---
id: marriage.have_experienced_domestic_violence_continue
question: |
  Domestic violence
subquestion: |
  Domestic violence is serious and can impact many issues in your divorce. Domestic violence is often at its worst when a relationship ends. It is important for you to take steps to be as safe as possible. If there has been verbal, emotional, or physical abuse in your marriage, you may want to consider hiring a lawyer. Your local legal aid office or local domestic violence service provider may be able to help you. To learn more about domestic violence and to find contact information for helpful organizations, please see the [Domestic Violence and Divorce Resource pages](https://michiganlegalhelp.org/resources/personal-safety). If you want to hire a lawyer, you can find referral information in the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) section of the Michigan Legal Help website.
fields:
  - label: Do you want to continue with the tool now?
    field: marriage.have_experienced_domestic_violence_continue
    datatype: yesnoradio
---
# -----------------------------------------------------------------------------
## users[0]
# -----------------------------------------------------------------------------
---
id: users[0].previous_last_name
question: |
  Previous last name
fields:
  - label: Was your last name something _other than_ ${users[0].name.last} before your marriage?
    field: users[0].previous_last_name_yn
    datatype: yesnoradio
  - label: Please enter your last name before your marriage
    field: users[0].previous_last_name
    show if: users[0].previous_last_name_yn
validation code: |
  if not users[0].previous_last_name_yn:
    users[0].invalidate_attr("previous_last_name")
---
id: users[0].new_last_name_yn
question: |
  Change last name
subquestion: |
  If you do not want to get your name changed as part of your divorce, you can still ask for a name change later. To do this, file a Petition to Change Name any time after your divorce is final. There is a filing fee for this petition unless you qualify to have your fees waived. There are also other costs related to the petition that cannot be waived.
fields:
  - label: Would you like the judge to allow you to change your last name as part of your divorce?
    field: users[0].new_last_name_yn
    datatype: yesnoradio
  - label: What is the **last name** that you want the judge to allow you to use?
    field: users[0].new_last_name
    show if: users[0].new_last_name_yn
validation code: |
  if not users[0].new_last_name_yn:
    users[0].invalidate_attr("new_last_name")
---
id: users[0].gender
sets: users[0].gender
question: |
  What is your gender?
fields:
  - code: |
      users[0].gender_fields(show_help=True)
---
id: users[0].marriage_number
question: |
  Marriage
fields:
  - label: Please select the number of this marriage for you
    field: users[0].marriage_number
    code: |
      [{"label": ordinal(y, capitalize=True), "value": ordinal(y)} for y in range(10)]
---
id: users[0].birthdate
question: |
  When were you born?
fields:
  - label: Birthdate
    field: users[0].birthdate
    datatype: BirthDate
---
id: users[0].birthplace
field: users[0].birthplace
question: |
  Where were you born?
fields:
  - label: Please enter the state or country where you were born
    field: users[0].birthplace
---
id: confidential_contact_info_yn
question: |
  Contact information confidentiality
subquestion: |
  All of the information that you enter in this tool, including your address and telephone information, will be included on forms that you file with the court and give to your spouse. If you fear for your safety if this information is known by your spouse or someone else, proceed with caution. **Do not use an address or telephone number that you want to keep confidential in this tool or on your court forms.**

  Keep in mind that your divorce file is a public record and anyone could ask to look at it and see your address. To keep your address confidential, you need to have one of the following:

  - A Personal Protection Order or other order which keeps your address confidential, OR

  - You need to state that you and/or your children's safety would be at risk if you disclose your address. This is done by filing a Uniform Child Custody Jurisdiction Enforcement Act Affidavit with the court.

  ${collapse_template(confidential_contact_info_yn_more_template)}
fields:
  - label: Do you want to keep your residential address and telephone number confidential because you have a Personal Protection Order or because disclosing it would place you and/or your children at risk?
    field: confidential_contact_info_yn
    datatype: yesnoradio
---
id: confidential_contact_info_yn_more_template
template: confidential_contact_info_yn_more_template
subject: |
  Click here for more information.
content: |
  Help!

  If you intend to keep your address confidential, give a different mailing address (such as a P.O. Box or the address of a friend or relative) and different telephone number (such as the telephone number of a friend or relative), where the court and your spouse can contact you regarding your case.

  Be aware that if your address is included on the papers that your spouse already filed, it is not confidential. Also, please be aware that some of your divorce forms will be incomplete if you do not supply your home address and/or the home address of your children. The court may require you to provide this information at some point during or after your case.

  If you fear for the safety of you or your children if your address is known by your spouse or someone else, it is strongly recommended that you hire a lawyer and do not do your divorce on your own. Your local domestic violence agency may also be able to help you. To learn more about domestic violence and to find contact information for helpful organizations, please see the [Domestic Violence and Divorce Resource pages](https://michiganlegalhelp.org/resources/personal-safety). You can also use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) to look for a lawyer or legal services near you.
---
id: users[0].village_or_township
question: |
  Village or township
fields:
  - label: Do you live in a township or village that is different from the city in the address you just listed?
    field: users[0].village_or_township_yn
    datatype: yesnoradio
  - label: Village or township
    field: users[0].village_or_township
    show if: users[0].village_or_township_yn
validation code: |
  if not users[0].village_or_township_yn:
    users[0].invalidate_attr("village_or_township")
---
# id: users[0].mailing_address
# sets:
#   - users[0].mailing_address.address
# question: |
#   Different mailing address
# fields:
#   - label: Do you have a different mailing address?
#     field: users[0].mailing_address_yn
#     datatype: yesnoradio
#   - code: |
#       users[0].address_fields()
#     show if: users[0].mailing_address_yn
# validation code: |
#   if not users[0].mailing_address_yn:
#     users[0].mailing_address.invalidate_attr("address")
#     users[0].mailing_address.invalidate_attr("address")
#     users[0].mailing_address.invalidate_attr("address")
#     users[0].mailing_address.invalidate_attr("address")
---
id: users[0].phone_number
question: |
  Phone number
subquestion: |
  % if confidential_contact_info_yn:
  Please enter a safe telephone number where the court can reach you, starting with the area code. This telephone number will appear on papers filed with the court and served on your spouse. **Do not enter a telephone number that you want to keep confidential.**
  % else:
  Enter a telephone number where the court can reach you, starting with the area code.
  % endif
fields:
  - label: |
      % if confidential_contact_info_yn:
      Safe phone
      % else:
      Phone (home or cell)
      % endif
    field: users[0].phone_number
---
id: users[0].email
question: |
  Email address
fields:
  - label: What is your email address?
    field: users[0].email
    datatype: email
    required: False
---
# -----------------------------------------------------------------------------
## other_parties[0]
# -----------------------------------------------------------------------------
---
sets:
  - other_parties[0].name.first
  - other_parties[0].name.last
  - other_parties[0].name.middle
  - other_parties[0].name.suffix
id: other_parties[0].name.first
question: |
  What is your spouse's name?
fields:
  - code: |
      other_parties[0].name_fields(person_or_business="person")
---
id: other_parties[0].previous_last_name
question: |
  Previous last name
fields:
  - label: Was your spouse's last name something _other than_ ${other_parties[0].name.last} before your marriage?
    field: other_parties[0].previous_last_name_yn
    datatype: yesnoradio
  - label: Please enter your spouse's last name before your marriage
    field: other_parties[0].previous_last_name
    show if: other_parties[0].previous_last_name_yn
validation code: |
  if not other_parties[0].previous_last_name_yn:
    other_parties[0].invalidate_attr("previous_last_name")
---
id: other_parties[0].gender
sets: other_parties[0].gender
question: |
  What is your spouse's gender?
fields:
  - code: |
      other_parties[0].gender_fields(show_help=True)
---
id: other_parties[0].marriage_number
question: |
  Marriage
fields:
  - label: Please select the number of this marriage for your spouse
    field: other_parties[0].marriage_number
    code: |
      [{"label": ordinal(y, capitalize=True), "value": ordinal(y)} for y in range(10)]
---
id: other_parties[0].birthdate
question: |
  When was your spouse born?
fields:
  - label: Birthdate
    field: other_parties[0].birthdate
    datatype: BirthDate
---
id: other_parties[0].birthplace
field: other_parties[0].birthplace
question: |
  Where was your spouse born?
fields:
  - label: Please enter the state or country where your spouse was born
    field: other_parties[0].birthplace
---
id: other_parties[0].village_or_township
question: |
  Village or township
fields:
  - label: Does your spouse live in a township or village that is different from the city in the address you just listed?
    field: other_parties[0].village_or_township_yn
    datatype: yesnoradio
  - label: Village or township
    field: other_parties[0].village_or_township
    show if: other_parties[0].village_or_township_yn
validation code: |
  if not other_parties[0].village_or_township_yn:
    other_parties[0].invalidate_attr("village_or_township")
---
# -----------------------------------------------------------------------------
## other_parties[0].attorney
# -----------------------------------------------------------------------------
---
sets:
  - other_parties[0].attorney.name.first
  - other_parties[0].attorney.name.last
  - other_parties[0].attorney.name.middle
  - other_parties[0].attorney.name.suffix
  - other_parties[0].attorney.bar_number
id: lawyer name and bar
generic object: ALPeopleList
question: |
  What is the lawyer's name and bar number?
subquestion:
  ${ collapse_template(help_user_find_bar_number_template) }
fields:
  - code: |
      other_parties[0].attorney.name_fields()
  - label: |
      Bar number
      (include the 'P')
    field: other_parties[0].attorney.bar_number
    required: False
---
# -----------------------------------------------------------------------------
## marriage information
# -----------------------------------------------------------------------------
---
id: marriage.date
question: |
  When were you married?
fields:
  - label: Please enter the date you were married
    field: marriage.date
    datatype: ThreePartsDate
---
# TODO: develop dynamic county dropdown based on state
id: marriage.address
question: |
  Where were you married?
fields:
  - label: Country
    field: marriage.address.country
    code: |
      countries_list()
    default: US
  - label: State
    field: marriage.address.state
    code: |
      states_list()
    default: MI
    show if:
      variable: marriage.address.country
      is: US
  - label: County
    field: marriage.address.county
    show if:
      variable: marriage.address.country
      is: US
  - label: City, village, or township
    field: marriage.address.city
---
id: marriage.living_together_yn
question: |
  Living together
fields:
  - label: Are you and your spouse currently living together?
    field: marriage.living_together_yn
    datatype: yesnoradio
  - label: On or about what date did you and your spouse stop living together?
    field: marriage.living_together_stopped_date
    datatype: ThreePartsDate
    show if:
      variable: marriage.living_together_yn
      is: False
---
id: marriage.health_coverage
question: |
  Health coverage
subquestion: |
  **COBRA**: After your divorce is final, one spouse may continue getting coverage under the other spouse's insurance through COBRA. Your Judgment of Divorce will include language about this. Typically, the spouse who gets continuing medical insurance through COBRA must pay for it. Insurance through COBRA may cost more than when that person was covered as a spouse. If the parties agree to something else, like having the other spouse pay for the COBRA coverage, that must be specifically added to the Judgment of Divorce. You can add this in the Other Provisions section. The Other Provisions section will be available at the end of this tool.
continue button field: marriage.health_coverage
---
# -----------------------------------------------------------------------------
## marriage.personal_property_
# -----------------------------------------------------------------------------
---
id: marriage.personal_property_info
question: |
  Personal property and debt
subquestion: |
  You are now going to be asked about your personal property. Personal property means all of the things you own other than real property (real property is real estate such as a house, condo, or land). Personal property includes things like a mobile home, furniture, jewelry, household goods, and collectibles, as well as cash, stocks, and Certificates of Deposit (CDs). Do not include vehicles (such as cars, boats, trailers, motorcycles, or snowmobiles) in this section. Although vehicles are personal property, you will be asked about vehicles in the next section of this tool.

  - If you and your spouse agree about how all of your property and debt should be divided, use those terms throughout this part of the tool.
  - If you and your spouse don't agree about how your property and debt should be divided, complete this part of the tool using the division of property and debt terms that you want the judge to order.
  - If you and your spouse agree on how to divide some, but not all, of your property and debt, use the terms you do agree on, along with the terms that you want the judge to order for things you don't agree on.

  Normally the party who is awarded specific property, such as a car or home, is responsible for paying the debt related to that property. If you or your spouse need to sign any documents to make property transfers final, such as car title transfers or quitclaim deeds, your Judgment of Divorce will require you to do this within 30 days of when the judgment is final.
continue button field: marriage.personal_property_info
---
id: marriage.personal_property
question: |
  Personal property and debt
fields:
  - label: Did you and your spouse acquire personal property during the marriage?
    field: marriage.personal_property_acquired
    datatype: yesnoradio
---
id: marriage.personal_property
question: |
  Personal property and debt
fields:
  - label: Have you and your spouse reached an agreement about how all personal property will be divided?
    field: marriage.personal_property_division_agreement
    datatype: yesnoradio
---
id: marriage.personal_property
question: |
  Personal property and debt
subquestion: |
  _Only answer **Yes** if each of you has in your possession all of the items that you have agreed you will have._
fields:
  - label: Have you and your spouse **actually divided** all the personal property based on your agreement?
    field: marriage.personal_property_division_actual
    datatype: yesnoradio
---
# -----------------------------------------------------------------------------
## marriage.debts_
# -----------------------------------------------------------------------------
---
id: marriage.debts_info
question: |
  Debts
subquestion: |
  The judge assigned to your divorce case will not have any authority over your creditors (those whom you owe money). Your Judgment of Divorce may divide your marital debt, assigning you or your spouse responsibility for paying each debt. However, creditors may continue to treat debts in both of your names as joint debt. If your spouse defaults on a debt that the Judgment of Divorce requires him or her to pay, you can return to the family court to seek repayment from him or her.

  It is important for all debts that are in both of your names to be included in your Judgment of Divorce. That way, if the person who your divorce assigns responsibility for paying the debt defaults, the other party has a remedy in family court.
continue button field: marriage.debts_info
---
id: marriage.debts_any
question: |
  Debts
fields:
  - label: Do you or your spouse have any debts, either in your own names or together?
    field: marriage.debts_any
    datatype: yesnoradio
---
id: marriage.debts_pay_own
question: |
  Debts
fields:
  - label: Do you and your spouse each plan to pay the debts in your own names?
    field: marriage.debts_pay_own
    datatype: yesnoradio
---
id: marriage.debts_responsibility_agree
question: |
  Debts
fields:
  - label: Do you and your spouse agree on who will be responsible for these debts?
    field: marriage.debts_responsibility_agree
    datatype: yesnoradio
---
id: marriage.debts_joint
question: |
  Debts
fields:
  - label: Do you and your spouse have any debts that are in **both** of your names?
    field: marriage.debts_joint
    datatype: yesnoradio
---
id: marriage.debts_joint_responsibility_agree
question: |
  Debts
fields:
  - label: Do you and your spouse agree on who will be responsible for these debts?
    field: marriage.debts_joint_responsibility_agree
    datatype: yesnoradio
---
depends on:
  - marriage.debts_pay_own
  - marriage.debts_joint
code: |
  marriage.debts.there_are_any = any((
    not marriage.attr("debts_pay_own"),
    marriage.attr("debts_joint"),
  ))
---
id: marriage.debts[i]
question: |
  Marriage debt
subquestion: |
  % if marriage.debts_joint:
  List each jointly held debt (debts in both of your names) that will be divided and indicate whether you or your spouse ${"will" if marriage.debts_joint_responsibility_agree else "should"} be responsible for it.
  % endif

  % if not marriage.debts_pay_own:
  ${"Also, list" if marriage.debts_joint else "List"} each debt that is currently in one spouse's name, but that the other spouse ${"will" if marriage.debts_responsibility_agree else "should"} be responsible for it.
  % endif

  Do **NOT** include credit card numbers or any other identifying number associated with a debt.

  % if marriage.debts.number_gathered() > 1:
  So far, you have listed:

  Type | Owed | Balance | Responsibility
  --- | --- | ---: | ---
  % for debt in marriage.debts.complete_elements():
  ${ debt.kind } | ${ debt.owner } | ${ currency(debt.balance) } | ${ dynamic_field(debt.responsibility) }
  % endfor
  % endif
fields:
  - label: Type of debt
    field: marriage.debts[i].kind
    choices:
      - Credit card
      - Personal loan
      - Student loan
      - Other loan
      - Unpaid taxes
      - Judgment
  - label: To whom do you owe the money
    field: marriage.debts[i].owner
  - label: Approximate balance
    field: marriage.debts[i].balance
    datatype: currency
    min: 0
  - label: Responsibility of
    field: marriage.debts[i].responsibility
    choices:
      - label: ${users[0]}
        value: users[0]
      - label: ${other_parties[0]}
        value: other_parties[0]
      - label: Joint (50/50)
        value: joint
---
id: marriage.debts.there_is_another
question: |
  Marriage debt
subquestion: |
  So far, you have listed:

  Type | Owed | Balance | Responsibility
  --- | --- | ---: | ---
  % for debt in marriage.debts.complete_elements():
  <a href="${url_ask(debt.attr_name("kind"))}">${ debt.kind }</a> | <a href="${url_ask(debt.attr_name("owner"))}">${ debt.owner }</a> | <a href="${url_ask(debt.attr_name("balance"))}">${ currency(debt.balance) }</a> | <a href="${url_ask(debt.attr_name("responsibility"))}">${ dynamic_field(debt.responsibility) }</a>
  % endfor
fields:
  - label: Do you want to add another debt?
    field: marriage.debts.there_is_another
    datatype: yesnoradio
---
