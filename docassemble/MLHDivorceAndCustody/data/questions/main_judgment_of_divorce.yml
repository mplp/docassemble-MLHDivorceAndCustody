---
include:
  - docassemble.AssemblyLine:assembly_line.yml
  - docassemble.ALAnyState:any_state.yml
  - docassemble.ALToolbox:collapse_template.yml
  - docassemble.mlhframework:mlh_interview_framework.yml
  - review.yml
---
modules:
  - docassemble.ALToolbox.al_income
  - docassemble.ALToolbox.ThreePartsDate
---
# TODO subtitle? & confirm description
metadata:
  title: Michigan Judgment of Divorce
  short title: Michigan Judgment of Divorce
  description: |
    Self-help interview to obtain a Judgment of Divorce and other documents needed to finish a divorce in Michigan.
  tags:
    - Family
  authors:
    - Michigan Legal Help
    - Lemma Legal
---
features:
  labels above fields: True
  css: mlh-divorce-and-custody.css
---
# TODO sections
sections:
  - signpost_intro: "Introduction"
  - signpost_qualify: "Do you qualify?"
  - signpost_user: "Your Information"
  - signpost_spouse: "Spouse's Information"
  - signpost_marriage: "Marriage Information"
  - signpost_personal_property: "Personal Property"
  - signpost_debts: "Debts"
  - signpost_vehicles: "Vehicles"
  - signpost_real_property: "Real Property"
  - signpost_judgment_information: "Judgment Information"
  - signpost_done: "Done"
  - review_full: "✎ <u>Review / Edit</u>"
---
code:  |
  github_repo_name = 'docassemble-MLHDivorceAndCustody' if get_config('debug') else 'docassemble-UserFeedback'
---
# TODO need survey url
code: |
  survey_link_url_only = "https://www.surveymonkey.com/r/xxxxxx"
---
# TODO need survey script
template: survey_embed_script
content: |
  <script>
  </script>
---
# TODO confirm form type
# set intro landing screen variables
code: |
  MLH_form_type = "Judgment of Divorce"
  MLH_time_min = 15
  MLH_time_max = 45
---
template: MLH_welcome_message
content: |
  Welcome to Michigan Legal Help's Do-It-Yourself ${MLH_form_type} tool.

  This tool will help you prepare forms to finish your divorce in Michigan. Use this tool if all you need is a Judgment of Divorce and the forms that go with it.
---
# TODO need resource url & confirm page name
code: |
  resource_page_url_only = "https://michiganlegalhelp.org/node/xxxx"
  resource_page_name = "Judgment of Divorce"
---
# ====================================================================
## interview_order
# ====================================================================
---
id: interview_order_michigan_judgment_of_divorce
mandatory: True
scan for variables: False
code: |
  set_interview_terms
  reconsider("set_interview_terms") # TODO remove before publishing
  nav.set_section("review_full")
  nav.set_section("signpost_intro")
  MLH_standard_intro_pages

  nav.set_section("signpost_qualify")
  if not marriage.pending_divorce:
    exit_no_pending_divorce

  county_choice # TODO custom? "In what county was the divorce filed?"
  court_index
  the_court
  docket_number
  user_ask_role

  if not marriage.breakdown:
    exit_no_marriage_breakdown

  marriage.request_spousal_support
  if not marriage.request_spousal_support_continue:
    exit_general

  if marriage.have_pension_retirement:
    marriage.pension_retirement_accounts_keep_own
    if not marriage.pension_retirement_accounts_continue:
      exit_general

  if marriage.have_financial_instruments:
    if marriage.financial_instruments_held_together:
      marriage.financial_instruments_held_together_agree_about_division
      if not marriage.financial_instruments_held_together_continue:
        exit_general
    else:
      if marriage.financial_instruments_keep_or_divide == "divide":
        exit_general
      elif marriage.financial_instruments_keep_or_divide == "keep":
        if not marriage.financial_instruments_keep_own_continue:
          exit_general

  if marriage.have_business:
    exit_general

  if marriage.have_experienced_domestic_violence:
    if not marriage.have_experienced_domestic_violence_continue:
      exit_general

  nav.set_section("signpost_user")

  users.gather()
  users[0].name.first
  users[0].previous_last_name_yn
  users[0].new_last_name_yn
  users[0].gender
  users[0].pregnant
  users[0].marriage_number
  users[0].birthdate
  users[0].birthplace

  interview_order_user_contact_info

  nav.set_section("signpost_spouse")

  other_parties.gather()
  other_parties[0].name.first
  other_parties[0].previous_last_name_yn
  other_parties[0].gender
  other_parties[0].pregnant
  other_parties[0].marriage_number
  other_parties[0].birthdate
  other_parties[0].birthplace

  other_parties[0].address.address
  if other_parties[0].address.state == "MI":
    other_parties[0].village_or_township_yn
  if other_parties[0].mailing_address.yesno:
    other_parties[0].mailing_address.address

  other_parties[0].phone_number
  other_parties[0].email

  interview_order_other_parties_attorney

  nav.set_section("signpost_marriage")

  marriage.date
  marriage.address.city
  if not marriage.living_together_yn:
    marriage.living_together_stopped_date

  marriage.health_coverage

  nav.set_section("signpost_personal_property")

  interview_order_personal_property

  nav.set_section("signpost_debts")

  interview_order_debts

  nav.set_section("signpost_vehicles")

  interview_order_vehicles

  nav.set_section("signpost_real_property")

  marriage.real_property.gather()

  nav.set_section("signpost_judgment_information")

  if marriage.other_provisions_any:
    marriage.other_provisions

  if marriage.temporary_order:
    marriage.temporary_order_changed

  if not marriage.true_statement:
    exit_general

  # load value of these so that they populate forms as expected
  plaintiffs
  defendants

  nav.set_section("signpost_done")
  MLH_standard_outro_pages
  MLH_download
---
code: |
  if confidential_contact_info_yn:
    users[0].address.address
  else:
    users[0].address.address
    if users[0].address.state == "MI":
      users[0].village_or_township_yn
    if users[0].mailing_address.yesno:
      users[0].mailing_address.address
  users[0].phone_number
  users[0].email
  interview_order_user_contact_info = True
---
code: |
  if other_parties[0].has_attorney:
    other_parties[0].attorney.name.first
    other_parties[0].attorney.address.address
    other_parties[0].attorney.phone_number
  interview_order_other_parties_attorney = True
---
code: |
  marriage.accounts
  marriage.other_pp
  marriage.mobile_home
  marriage.personal_property_info
  if marriage.personal_property_acquired:
    if not marriage.personal_property_division_agreement or not marriage.personal_property_division_actual:
      marriage.accounts.gather()
      marriage.other_pp.gather()
      marriage.mobile_home.gather()
  interview_order_personal_property = True
---
code: |
  marriage.debts.info
  if marriage.debts.any:
    if not marriage.debts.pay_debts_in_own_names:
      marriage.debts.agree_responsibility_debts_own_name
    if marriage.debts.any_in_both_names:
      marriage.debts.agree_responsibility_debts_both_names
    if not marriage.debts.pay_debts_in_own_names or marriage.debts.any_in_both_names:
      marriage.debts.gather()
  interview_order_debts = True
---
code: |
  marriage.vehicles
  marriage.vehicles.info
  if marriage.vehicles.any:
    if not marriage.vehicles.keep_own:
      marriage.vehicles.gather()
  interview_order_vehicles = True
---
code: |
  update_terms(
    {
      "investments": """Stocks, bonds, Certificates of Deposit (CDs), mutual funds, Money Market Accounts, or other investments, not including pensions or retirement accounts.""",
      "vehicles_make": """Make refers to the name of the company that manufactured the vehicle. Examples of vehicle "makes" are Ford, General Motors, Chrysler, and Toyota.""",
      "vehicles_model": """Model refers to the type of car. Examples of "models" are Focus, Cutlass, Town and Country, and Highlander.""",
    }
  )
  set_interview_terms = True
---
# ====================================================================
## objects
# ====================================================================
---
objects:
  - marriage: DAObject
  - marriage.address: ALAddress
  - users: ALPeopleList.using(
      there_are_any=True,
      there_is_another=False,
      target_number=1,
      )
  - other_parties: ALPeopleList.using(
      there_are_any=True,
      there_is_another=False,
      target_number=1,
      )
  - other_parties[0].attorney: ALIndividual
  - children: ALPeopleList.using(
      ask_number=True,
      complete_attribute="complete",
      )
  - judges: ALPeopleList.using(
      there_are_any=True,
      there_is_another=False,
      target_number=1,
      complete_attribute="complete",
      )
  - joint: Thing
  - sell_and_share: Thing
---
code: |
  joint.name.text = "Joint (50/50)"
---
code: |
  sell_and_share.name.text = "Neither, the property should be sold, and we should share equally in the profit or loss from the sale"
---
# ====================================================================
## generics
# ====================================================================
---
generic object: DAList
code: |
  x.reset_gathered()
  x.gathered_reset = True
---
generic object: ALAssetList
id: x.revisit
question: |
  ${x.question_text}
subquestion: |
  ${x.there_is_another_template}

  % if x:
  So far, you have listed&colon;

  ${x.table}
  % endif

  ${x.add_action(color="success", size="md")}
continue button field: x.revisit
---
generic object: DAList
id: x.there_is_another
question: |
  ${x.question_text}
fields:
  - label: Do you want to include any ${x.noun_pl}?
    field: x.there_are_any
    datatype: yesnoradio
---
generic object: DAList
id: x.there_is_another
question: |
  ${x.question_text}
subquestion: |
  ${x.there_is_another_template}

  So far, you have listed&colon;

  ${x.table}
fields:
  - label: Do you want to add another ${x.noun_sl}?
    field: x.there_is_another
    datatype: yesnoradio
---
generic object: DAList
template: x.collapsed_table_template
subject: |
  So far, you have listed...
content: |
  ${x.table.show(editable=False)}
---
generic object: DAList
template: x.question_text_table_template
content: |
  % if x.number_gathered() > 1:
  ${collapse_template(x.collapsed_table_template)}
  % endif
---
generic object: ALIndividual
template: x.gender_explanation_template
subject: |
  Why are you asking this? What if ${"I'm" if x is users[0] else "they're"} nonbinary?
content: |
  The DCH-0838 Record of Divorce or Annulment form needed to finalize a divorce in Michigan makes you select "male" or "female" for each party. Unfortunately it does not have a nonbinary option. Please select which option you want checked on the form.
---
generic object: ALIndividual
template: x.pregnant_explanation_template
subject: |
  Why are you asking this?
content: |
  The Complaint for Divorce (one of the forms you will file to start your divorce case), must say if either party is pregnant.
---
generic object: ALIndividual
template: x.pregnant_notice
subject: |
  Pregnancy Notice
content: |
  WARNING! If either you or your spouse is pregnant, there may be complicated legal parentage issues in your divorce. Consider hiring a lawyer to help you. To get lawyer referral information, use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) section of the Michigan Legal Help website.

  You can use this tool to prepare your divorce forms, but you may have to wait until the birth to schedule your final hearing and enter your Judgment of Divorce, so that provisions for custody, parenting time, and support are complete.

  Children conceived during a marriage are also considered children of the marriage. If a new child is born who was conceived during the marriage, you will need to log back in to your saved answers so you can add that child and include their name and other information. This will allow you to get an updated Judgment of Divorce and other updated forms.
---
# ====================================================================
## questions
# ====================================================================
---
# --------------------------------------------------------------------
## exits
# --------------------------------------------------------------------
---
# TODO determine if we want specific exit screens for each reason (using templates)
# TODO maybe generate their documents thus far like LHI does?
id: exit_general
event: exit_general
question: |
  Sorry, this tool cannot help you.
subquestion: |
  You may want to contact a lawyer for help. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you.

  If you think you made a mistake, tap **Undo** and change the answer to this question.
action buttons:
  - label: Exit
    action: https://michiganlegalhelp.org/resources/family
    new window: True
    color: danger
    icon: right-from-bracket
---
id: exit_no_pending_divorce
event: exit_no_pending_divorce
question: |
  Sorry, this tool cannot help you.
subquestion: |
  You must have a pending Michigan divorce case to use this tool. This tool is only for completing your Judgment of Divorce and related papers in an existing divorce case. If you need to file a Michigan Divorce case, return to the Michigan Legal Help website to either the [Filing for Divorce with Children](https://michiganlegalhelp.org/resources/family/filing-divorce-children) Resource page or the [Filing for Divorce without Children](https://michiganlegalhelp.org/resources/family/filing-divorce-without-children) Resource page.

  You may want to contact a lawyer for help. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you.

  If you think you made a mistake, tap **Undo** and change the answer to this question.
action buttons:
  - label: Exit
    action: https://michiganlegalhelp.org/resources/family
    new window: True
    color: danger
    icon: right-from-bracket
---
id: exit_no_marriage_breakdown
event: exit_no_marriage_breakdown
question: |
  Sorry, this tool cannot help you.
subquestion: |
  If you are unable to testify to the breakdown of your marriage, you cannot use this tool to create a Judgment of Divorce.

  You may want to contact a lawyer for help. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you.

  If you think you made a mistake, tap **Undo** and change the answer to this question.
action buttons:
  - label: Exit
    action: https://michiganlegalhelp.org/resources/family
    new window: True
    color: danger
    icon: right-from-bracket
---
id: exit_children
event: exit_children
question: |
  Sorry, this tool cannot help you.
subquestion: |
  If you and your spouse have a child together and both of you are not the child's legal parents, there may be complicated issues about parentage in your divorce. Contact a lawyer to help you. To learn more, read Separation and Divorce: An Overview for Same-sex Families. Use the Guide to Legal Help to look for a lawyer near you.

  You may want to contact a lawyer for help. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you.

  If you think you made a mistake, tap **Undo** and change the answer to this question.
action buttons:
  - label: Exit
    action: https://michiganlegalhelp.org/resources/family
    new window: True
    color: danger
    icon: right-from-bracket
---
# --------------------------------------------------------------------
## introduction
# --------------------------------------------------------------------
---
id: marriage.pending_divorce
question: |
  Pending divorce
fields:
  - label: Do you have a pending divorce case with this spouse in any court?
    field: marriage.pending_divorce
    datatype: yesnoradio
---
id: docket number
question: |
  Case number
subquestion: |
  ${ collapse_template(where_case_number) }

  Be certain to enter the "-DO" or "-DM" at the end of the number.
fields:
  - label: What is the case number?
    field: docket_number
    maxlength: 25
---
id: what is the user's role?
question: |
  Are you the Plaintiff or the Defendant in this case?
subquestion: |
  ${collapse_template(help_user_ask_role_template)}
fields:
  - label: What party are you in your case?
    field: user_ask_role
    label above field: True
    datatype: radio
    choices:
      - label: I am the Plaintiff
        value: plaintiff
      - label: I am the Defendant
        value: defendant
  - note: |
      Okay, you are the **Plaintiff** in this case. The other
      side is the Defendant.
    show if:
      variable: user_ask_role
      is: plaintiff
  - note: |
      Okay, you are the **Defendant** in this case. The other
      side is the Plaintiff.
    show if:
      variable: user_ask_role
      is: defendant
validation code: |
  op_ask_role = "defendant" if user_ask_role == "plaintiff" else "plaintiff"
---
id: marriage.breakdown
question: |
  Marriage breakdown
subquestion: |
  Michigan law requires you to testify that there has been a breakdown of the marriage to the extent that the objects of matrimony have been destroyed and there remains no reasonable likelihood that your marriage can be preserved. This means that there has been a serious, permanent, marital breakdown. It means it is very unlikely that you and your spouse can work things out.
fields:
  - label: Has there been a breakdown of the marriage to the extent that the objects of matrimony have been destroyed and there remains no reasonable likelihood that the marriage can be preserved?
    field: marriage.breakdown
    datatype: yesnoradio
---
id: marriage.request_spousal_support
question: |
  Spousal support
fields:
  - label: Do you plan to ask the judge to order your spouse to support you financially, other than with child support?
    field: marriage.request_spousal_support
    datatype: yesnoradio
  - note: |
      WARNING! This tool cannot help you ask for spousal support. A spousal request must be made in either the Complaint for Divorce or Counterclaim for Divorce. Asking for spousal support is complicated, and the form produced by this tool cannot do that. If you want to ask for spousal support, find a lawyer to help you. To get lawyer referral information, use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) section of the Michigan Legal Help website.

      If you and your spouse agree that one of you will pay spousal support, or if the judge orders spousal support in your case, you can indicate that in the spousal support paragraph of the Judgment of Divorce that you will get from this tool, and fill out a [Uniform Spousal Support Order](https://www.courts.michigan.gov/4a7e2f/siteassets/forms/scao-approved/foc10b.pdf) to attach.
    show if:
      variable: marriage.request_spousal_support
      is: True
  - note: |
      WARNING! If you don't ask for spousal support now, you will not be allowed to come back to court later and ask for it. If you are unsure whether you might want or need spousal support in the future, you should request it now to preserve your right to ask for it later.
    show if:
      variable: marriage.request_spousal_support
      is: False
  - label: Do you want to continue?
    field: marriage.request_spousal_support_continue
    datatype: yesnoradio
    hide if:
      variable: marriage.request_spousal_support
      is: None
---
id: marriage.have_pension_retirement
question: |
  Pension and/or retirement accounts
fields:
  - label: Do you or your spouse have a pension or retirement account?
    field: marriage.have_pension_retirement
    datatype: yesnoradio
---
id: marriage.pension_retirement_accounts_keep_own
question: |
  Pension and/or retirement accounts
fields:
  - label: Do you each plan to keep your own accounts or do you want to ask the judge to divide your accounts?
    field: marriage.pension_retirement_accounts_keep_own
    input type: radio
    choices:
      - label: We will each keep our own account(s)
        value: True
      - label: I want the judge to divide our account(s)
        value: False
---
if: marriage.pension_retirement_accounts_keep_own
id: pension_retirement_accounts_keep
question: |
  Pension and/or retirement accounts
subquestion: |
  You may have a right to part of your spouse's pension or retirement account, and your spouse may have a right to part of yours. This is an important decision that can impact your future. Sometimes it is hard to know the full value of a pension or retirement account, especially if an account includes future benefits. If you don't know all the details of each person's pension and retirement accounts, you may want to consider talking to a lawyer before you decide how you want to divide them.
fields:
  - label: Do you want to continue with the tool, knowing that you will not get a share of your spouse's pension or retirement account and will not be able to return to court in the future and ask for a change?
    field: marriage.pension_retirement_accounts_continue
    datatype: yesnoradio
---
if: not marriage.pension_retirement_accounts_keep_own
id: pension_retirement_accounts_divide
question: |
  Pension and/or retirement accounts
subquestion: |
  WARNING! This tool may not be right for you. Dividing pensions or retirement accounts is not simple. Neither this tool nor the Michigan Legal Help website will divide your pensions or retirement accounts. You can still complete this tool to prepare your Judgment of Divorce. The Judgment of Divorce produced after this tool will state that you have pensions or retirement accounts to divide, but the Judgment of Divorce will not divide them. You may want to consider hiring a lawyer to ask the judge to divide your pensions or retirement accounts. A lawyer can also draft the special order that is required.

  If you want to hire a lawyer to help you divide your pensions or retirement accounts and finish your case, you can find referral information in the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) section of the Michigan Legal Help website.
fields:
  - label: Do you want to continue?
    field: marriage.pension_retirement_accounts_continue
    datatype: yesnoradio
---
id: marriage.have_financial_instruments
question: |
  Financial investments
subquestion: |
   Do not consider pensions or retirement accounts here.
fields:
  - label: Do you or your spouse own any stocks, bonds, Certificates of Deposit (CDs), mutual funds, Money Market Accounts, or other investments?
    field: marriage.have_financial_instruments
    datatype: yesnoradio
---
id: marriage.financial_instruments_held_together
question: |
  Financial investments
fields:
  - label: Are any of these {investments} held in both of your names?
    field: marriage.financial_instruments_held_together
    datatype: yesnoradio
---
id: marriage.financial_instruments_held_together_agree_about_division
question: |
  Financial investments
fields:
  - label: Do you and your spouse agree on how these {investments} will be divided?
    field: marriage.financial_instruments_held_together_agree_about_division
    datatype: yesnoradio
---
id: marriage.financial_instruments_held_together_continue
question: |
  Financial investments
subquestion: |
  WARNING! This tool may not be right for you. Investments held in both spouses' names must be divided as part of your Judgment of Divorce. There may also be problems actually dividing these assets up after the Judgment is final. Dividing investments is not simple. You cannot use this tool or the Michigan Legal Help website to do this.

  You may want to consider hiring a lawyer to help you divide your investments. Consider asking a financial planner for advice on how to transfer investments and about tax issues that come with transferring investments. You can still complete this tool to prepare your Judgment of Divorce. You will be allowed to divide your investments in your Judgment of Divorce. However, the Judgment of Divorce will not include any information about how the investments will be transferred or about tax liability. Your investments will not be transferred automatically to the person they are awarded to in the Judgment of Divorce. There are more steps that need to be followed after the Judgment of Divorce is final.

  If you want to hire a lawyer to help you divide your investments and finish your case, you can find referral information in the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) section of the Michigan Legal Help website.
fields:
  - label: Do you want to continue?
    field: marriage.financial_instruments_held_together_continue
    datatype: yesnoradio
---
id: marriage.financial_instruments_keep_or_divide
question: |
  Financial investments
fields:
  - label: Do you each plan to keep your own accounts or do you want to ask the judge to divide your accounts?
    field: marriage.financial_instruments_keep_or_divide
    input type: radio
    choices:
      - label: We will each keep our own account(s)
        value: keep
      - label: I want the judge to divide our account(s)
        value: divide
---
id: marriage.financial_instruments_keep_own_continue
question: |
  Financial investments
subquestion: |
  You may have a right to part of the investments that are only in your spouse's name, and your spouse may have a right to part of the investments that are only in your name. This is an important decision that can impact your future. Sometimes it is hard to know the full value of an investment. If you don't know all the details of your marital investments, you may want to consider talking to a lawyer before you decide how you want to divide your investments. You can use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) on Michigan Legal Help to find a lawyer or a legal services office near you.
fields:
  - label: Do you want to continue with the tool, knowing that you will not be awarded a share in investments that are in your spouse's name and will not be able to return to court in the future and ask for a change?
    field: marriage.financial_instruments_keep_own_continue
    datatype: yesnoradio
---
id: marriage.have_business
question: |
  Business ownership
fields:
  - label: Do you or your spouse own a business?
    field: marriage.have_business
    datatype: yesnoradio
---
id: marriage.have_experienced_domestic_violence
question: |
  Domestic violence
fields:
  - label: Have you experienced domestic violence or threats of domestic violence by your spouse?
    field: marriage.have_experienced_domestic_violence
    datatype: yesnoradio
---
id: marriage.have_experienced_domestic_violence_continue
question: |
  Domestic violence
subquestion: |
  Domestic violence is serious and can impact many issues in your divorce. Domestic violence is often at its worst when a relationship ends. It is important for you to take steps to be as safe as possible. If there has been verbal, emotional, or physical abuse in your marriage, you may want to consider hiring a lawyer. Your local legal aid office or local domestic violence service provider may be able to help you. To learn more about domestic violence and to find contact information for helpful organizations, please see the [Domestic Violence and Divorce Resource pages](https://michiganlegalhelp.org/resources/personal-safety). If you want to hire a lawyer, you can find referral information in the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) section of the Michigan Legal Help website.
fields:
  - label: Do you want to continue with the tool now?
    field: marriage.have_experienced_domestic_violence_continue
    datatype: yesnoradio
---
# --------------------------------------------------------------------
## users[0]
# --------------------------------------------------------------------
---
id: users[0].previous_last_name
question: |
  Previous last name
fields:
  - label: Was your last name something _other than_ ${users[0].name.last} before your marriage?
    field: users[0].previous_last_name_yn
    datatype: yesnoradio
  - label: Please enter your last name before your marriage
    field: users[0].previous_last_name
    show if: users[0].previous_last_name_yn
validation code: |
  if not users[0].previous_last_name_yn:
    users[0].invalidate_attr("previous_last_name")
---
id: users[0].new_last_name_yn
question: |
  Change last name
subquestion: |
  ${collapse_template(users[0].can_i_change_my_name_later_template)}

  ${collapse_template(users[0].what_can_i_change_my_last_name_to_template)}
fields:
  - label: Would you like the judge to allow you to change your last name as part of your divorce?
    field: users[0].new_last_name_yn
    datatype: yesnoradio
  - note: |
      Michigan law says that a woman may ask the court to change her last name as part of a divorce case. If you're not a woman and you want to ask the court to change your last name, you may want to talk to a lawyer.
    show if:
      variable: users[0].new_last_name_yn
      is: True
  - label: What is the **last name** that you want the judge to allow you to use?
    field: users[0].new_last_name
    show if: users[0].new_last_name_yn
validation code: |
  if not users[0].new_last_name_yn:
    users[0].invalidate_attr("new_last_name")
---
template: users[0].what_can_i_change_my_last_name_to_template
subject: |
  What can I change my last name to?
content: |
  As part of the divorce, a woman can ask the judge to change her name to any of the following:

  - Her last name at birth,
  - Her last before marriage to the spouse she is divorcing, or
  - Any other last name if she isn’t trying to change her name to commit fraud or for some other harmful reason.
---
template: users[0].can_i_change_my_name_later_template
subject: |
  Can I change my name later?
content: |
  If you do not want to get your name changed as part of your divorce, you can still ask for a name change later. To do this, file a Petition to Change Name any time after your divorce is final. There is a filing fee for this petition unless you qualify to have your fees waived. There are also other costs related to the petition that cannot be waived.
---
id: users[0].gender
sets: users[0].gender
question: |
  What is your gender?
subquestion: |
  ${collapse_template(users[0].gender_explanation_template)}
fields:
  - label: Gender
    field: users[0].gender
    input type: radio
    choices:
      - Female: female
      - Male: male
---
id: users[0].pregnant
question: |
  Pregnancy
subquestion: |
  ${collapse_template(users[0].pregnant_explanation_template)}
fields:
  - label: Are you pregnant?
    field: users[0].pregnant
    datatype: yesnoradio
  - note: |
      ${users[0].pregnant_notice}
    show if:
      variable: users[0].pregnant
      is: True
---
id: users[0].marriage_number
question: |
  Marriage
fields:
  - label: Please select the number of this marriage for you
    field: users[0].marriage_number
    code: |
      [{"label": ordinal(y, capitalize=True), "value": ordinal(y)} for y in range(10)]
---
id: users[0].birthdate
question: |
  When were you born?
fields:
  - label: Birthdate
    field: users[0].birthdate
    datatype: BirthDate
---
id: users[0].birthplace
field: users[0].birthplace
question: |
  Where were you born?
fields:
  - label: Please enter the state or country where you were born
    field: users[0].birthplace
---
id: confidential_contact_info_yn
question: |
  Contact information confidentiality
subquestion: |
  All of the information that you enter in this tool, including your address and telephone information, will be included on forms that you file with the court and give to your spouse. If you fear for your safety if this information is known by your spouse or someone else, proceed with caution. **Do not use an address or telephone number that you want to keep confidential in this tool or on your court forms.**

  Keep in mind that your divorce file is a public record and anyone could ask to look at it and see your address. To keep your address confidential, you need to have one of the following:

  - A Personal Protection Order or other order which keeps your address confidential, OR

  - You need to state that you and/or your children's safety would be at risk if you disclose your address. This is done by filing a Uniform Child Custody Jurisdiction Enforcement Act Affidavit with the court.

  ${collapse_template(confidential_contact_info_yn_more_template)}
fields:
  - label: Do you want to keep your residential address and telephone number confidential because you have a Personal Protection Order or because disclosing it would place you and/or your children at risk?
    field: confidential_contact_info_yn
    datatype: yesnoradio
validation code: |
  users[0].address.invalidate_attr("address", "unit", "city", "state", "zip", "country")
  users[0].mailing_address.invalidate_attr("yesno", "address", "unit", "city", "state", "zip", "country")
  users[0].invalidate_attr("village_or_township_yn", "village_or_township", "phone_number")
---
id: confidential_contact_info_yn_more_template
template: confidential_contact_info_yn_more_template
subject: |
  Click here for more information.
content: |
  Help!

  If you intend to keep your address confidential, give a different mailing address (such as a P.O. Box or the address of a friend or relative) and different telephone number (such as the telephone number of a friend or relative), where the court and your spouse can contact you regarding your case.

  Be aware that if your address is included on the papers that your spouse already filed, it is not confidential. Also, please be aware that some of your divorce forms will be incomplete if you do not supply your home address and/or the home address of your children. The court may require you to provide this information at some point during or after your case.

  If you fear for the safety of you or your children if your address is known by your spouse or someone else, it is strongly recommended that you hire a lawyer and do not do your divorce on your own. Your local domestic violence agency may also be able to help you. To learn more about domestic violence and to find contact information for helpful organizations, please see the [Domestic Violence and Divorce Resource pages](https://michiganlegalhelp.org/resources/personal-safety). You can also use the [Guide to Legal Help](https://michiganlegalhelp.org/guide-to-legal-help) to look for a lawyer or legal services near you.
---
id: your address
question: |
  Please enter your ${"safe mailing address" if confidential_contact_info_yn else "address"}
fields:
  - label: Street Address or PO Box
    field: users[0].address.address
    address autocomplete: True
  - label: Apartment, suite, etc
    field: users[0].address.unit
    required: False
  - label: City
    field: users[0].address.city
  - label: State or Province (two-letter abbreviation for U.S. states)
    field: users[0].address.state
    default: MI
    input type: datalist
    code: |
      states_list()
    required: False
  - label: Zip or Postal Code
    field: users[0].address.zip
    required: False
  - label: Country
    field: users[0].address.country
    default: "US"
    code: |
      countries_list()
    required: False
---
id: users[0].village_or_township
question: |
  Village or township
fields:
  - label: Do you live in a township or village that isn't **${users[0].address.city}**?
    field: users[0].village_or_township_yn
    datatype: yesnoradio
  - label: Village or township
    field: users[0].village_or_township
    show if: users[0].village_or_township_yn
validation code: |
  if not users[0].village_or_township_yn:
    users[0].invalidate_attr("village_or_township")
---
id: users[0].mailing_address
question: |
  Different mailing address
fields:
  - label: Do you have a different mailing address?
    field: users[0].mailing_address.yesno
    datatype: yesnoradio
  - note: |
      Please enter your mailing address
    show if: users[0].mailing_address.yesno
  - label: Street Address or PO Box
    field: users[0].mailing_address.address
    address autocomplete: True
    show if: users[0].mailing_address.yesno
  - label: Apartment, suite, etc
    field: users[0].mailing_address.unit
    required: False
    show if: users[0].mailing_address.yesno
  - label: City
    field: users[0].mailing_address.city
    show if: users[0].mailing_address.yesno
  - label: State or Province (two-letter abbreviation for U.S. states)
    field: users[0].mailing_address.state
    default: MI
    input type: datalist
    code: |
      states_list()
    required: False
    show if: users[0].mailing_address.yesno
  - label: Zip or Postal Code
    field: users[0].mailing_address.zip
    required: False
    show if: users[0].mailing_address.yesno
  - label: Country
    field: users[0].mailing_address.country
    default: "US"
    code: |
      countries_list()
    required: False
    show if: users[0].mailing_address.yesno
validation code: |
  if not users[0].mailing_address.yesno:
    users[0].mailing_address.invalidate_attr("address")
    users[0].mailing_address.invalidate_attr("unit")
    users[0].mailing_address.invalidate_attr("city")
    users[0].mailing_address.invalidate_attr("state")
    users[0].mailing_address.invalidate_attr("zip")
    users[0].mailing_address.invalidate_attr("country")
---
id: users[0].phone_number
question: |
  Phone number
subquestion: |
  % if confidential_contact_info_yn:
  Please enter a safe telephone number where the court can reach you, starting with the area code. This telephone number will appear on papers filed with the court and served on your spouse. **Do not enter a telephone number that you want to keep confidential.**
  % else:
  Enter a telephone number where the court can reach you, starting with the area code.
  % endif
fields:
  - label: |
      % if confidential_contact_info_yn:
      Safe phone
      % else:
      Phone (home or cell)
      % endif
    field: users[0].phone_number
    show if:
      variable: users[0].no_phone_number
      is: False
  - label: I do not have a phone.
    field: users[0].no_phone_number
    required: False
    datatype: yesno
---
id: users[0].email
question: |
  Email address
fields:
  - label: What is your email address?
    field: users[0].email
    datatype: email
    required: False
---
# --------------------------------------------------------------------
## other_parties[0]
# --------------------------------------------------------------------
---
sets:
  - other_parties[0].name.first
  - other_parties[0].name.last
  - other_parties[0].name.middle
  - other_parties[0].name.suffix
id: other_parties[0].name.first
question: |
  What is your spouse's name?
fields:
  - code: |
      other_parties[0].name_fields(person_or_business="person")
---
id: other_parties[0].previous_last_name
question: |
  Previous last name
fields:
  - label: Was your spouse's last name something _other than_ ${other_parties[0].name.last} before your marriage?
    field: other_parties[0].previous_last_name_yn
    datatype: yesnoradio
  - label: Please enter your spouse's last name before your marriage
    field: other_parties[0].previous_last_name
    show if: other_parties[0].previous_last_name_yn
validation code: |
  if not other_parties[0].previous_last_name_yn:
    other_parties[0].invalidate_attr("previous_last_name")
---
id: other_parties[0].gender
sets: other_parties[0].gender
question: |
  What is your spouse's gender?
subquestion: |
  ${collapse_template(other_parties[0].gender_explanation_template)}
fields:
  - label: Gender
    field: other_parties[0].gender
    input type: radio
    choices:
      - Female: female
      - Male: male
---
id: other_parties[0].pregnant
question: |
  Pregnancy
subquestion: |
  ${collapse_template(other_parties[0].pregnant_explanation_template)}
fields:
  - label: Is your spouse pregnant?
    field: other_parties[0].pregnant
    datatype: yesnoradio
  - note: |
      ${other_parties[0].pregnant_notice}
    show if:
      variable: other_parties[0].pregnant
      is: True
---
id: other_parties[0].marriage_number
question: |
  Marriage
fields:
  - label: Please select the number of this marriage for your spouse
    field: other_parties[0].marriage_number
    code: |
      [{"label": ordinal(y, capitalize=True), "value": ordinal(y)} for y in range(10)]
---
id: other_parties[0].birthdate
question: |
  When was your spouse born?
fields:
  - label: Birthdate
    field: other_parties[0].birthdate
    datatype: BirthDate
---
id: other_parties[0].birthplace
field: other_parties[0].birthplace
question: |
  Where was your spouse born?
fields:
  - label: Please enter the state or country where your spouse was born
    field: other_parties[0].birthplace
---
id: your spouse's address
question: |
  Please enter your spouse's last known home address
fields:
  - label: Street Address or PO Box
    field: other_parties[0].address.address
    address autocomplete: True
  - label: Apartment, suite, etc
    field: other_parties[0].address.unit
    required: False
  - label: City
    field: other_parties[0].address.city
  - label: State or Province (two-letter abbreviation for U.S. states)
    field: other_parties[0].address.state
    default: MI
    input type: datalist
    code: |
      states_list()
    required: False
  - label: Zip or Postal Code
    field: other_parties[0].address.zip
    required: False
  - label: Country
    field: other_parties[0].address.country
    default: "US"
    code: |
      countries_list()
    required: False
---
id: other_parties[0].village_or_township
question: |
  Spouse's village or township
fields:
  - label: Does your spouse live in a township or village that is different from the city of the address you just entered?
    field: other_parties[0].village_or_township_yn
    datatype: yesnoradio
  - label: Village or township
    field: other_parties[0].village_or_township
    show if: other_parties[0].village_or_township_yn
validation code: |
  if not other_parties[0].village_or_township_yn:
    other_parties[0].invalidate_attr("village_or_township")
---
id: other_parties[0].mailing_address
question: |
  Spouse's different mailing address
fields:
  - label: Does your spouse have a different mailing address?
    field: other_parties[0].mailing_address.yesno
    datatype: yesnoradio
  - note: |
      Please enter your spouse's mailing address
    show if: other_parties[0].mailing_address.yesno
  - label: Street Address or PO Box
    field: other_parties[0].mailing_address.address
    address autocomplete: True
    show if: other_parties[0].mailing_address.yesno
  - label: Apartment, suite, etc
    field: other_parties[0].mailing_address.unit
    required: False
    show if: other_parties[0].mailing_address.yesno
  - label: City
    field: other_parties[0].mailing_address.city
    show if: other_parties[0].mailing_address.yesno
  - label: State or Province (two-letter abbreviation for U.S. states)
    field: other_parties[0].mailing_address.state
    default: MI
    input type: datalist
    code: |
      states_list()
    required: False
    show if: other_parties[0].mailing_address.yesno
  - label: Zip or Postal Code
    field: other_parties[0].mailing_address.zip
    required: False
    show if: other_parties[0].mailing_address.yesno
  - label: Country
    field: other_parties[0].mailing_address.country
    default: "US"
    code: |
      countries_list()
    required: False
    show if: other_parties[0].mailing_address.yesno
validation code: |
  if not other_parties[0].mailing_address.yesno:
    other_parties[0].mailing_address.invalidate_attr("address")
    other_parties[0].mailing_address.invalidate_attr("unit")
    other_parties[0].mailing_address.invalidate_attr("city")
    other_parties[0].mailing_address.invalidate_attr("state")
    other_parties[0].mailing_address.invalidate_attr("zip")
    other_parties[0].mailing_address.invalidate_attr("country")
---
id: other_parties[0].phone_number
question: |
  Spouse's phone number
fields:
  - label: Enter a telephone number where the court can reach your spouse, starting with the area code
    field: other_parties[0].phone_number
    show if:
      variable: other_parties[0].no_phone_number
      is: False
  - label: My spouse does not have a phone or I don't know their number.
    field: other_parties[0].no_phone_number
    required: False
    datatype: yesno
---
id: other_parties[0].email
question: |
  Spouse's email address
fields:
  - label: What is your spouse's email address?
    field: other_parties[0].email
    datatype: email
    required: False
---
# --------------------------------------------------------------------
## other_parties[0].attorney
# --------------------------------------------------------------------
---
sets:
  - other_parties[0].attorney.name.first
  - other_parties[0].attorney.name.last
  - other_parties[0].attorney.name.middle
  - other_parties[0].attorney.name.suffix
  - other_parties[0].attorney.bar_number
id: lawyer name and bar
generic object: ALPeopleList
question: |
  What is the lawyer's name and bar number?
subquestion:
  ${collapse_template(help_user_find_bar_number_template)}
fields:
  - code: |
      other_parties[0].attorney.name_fields()
  - label: |
      Bar number
      (include the 'P')
    field: other_parties[0].attorney.bar_number
    required: False
---
# --------------------------------------------------------------------
## marriage information
# --------------------------------------------------------------------
---
id: marriage.date
question: |
  When were you married?
fields:
  - label: Please enter the date you were married
    field: marriage.date
    datatype: ThreePartsDate
---
# TODO: develop dynamic county dropdown based on state
id: marriage.address
question: |
  Where were you married?
fields:
  - label: Country
    field: marriage.address.country
    code: |
      countries_list()
    default: US
  - label: State
    field: marriage.address.state
    code: |
      states_list()
    default: MI
    show if:
      variable: marriage.address.country
      is: US
  - label: County
    field: marriage.address.county
    show if:
      variable: marriage.address.country
      is: US
    required: False
  - label: City, village, or township
    field: marriage.address.city
    required: False
---
id: marriage.living_together_yn
question: |
  Living together
fields:
  - label: Are you and your spouse currently living together?
    field: marriage.living_together_yn
    datatype: yesnoradio
  - label: On or about what date did you and your spouse stop living together?
    field: marriage.living_together_stopped_date
    datatype: ThreePartsDate
    show if:
      variable: marriage.living_together_yn
      is: False
---
id: marriage.health_coverage
question: |
  Health coverage
subquestion: |
  **COBRA**: After your divorce is final, one spouse may continue getting coverage under the other spouse's insurance through COBRA. Your Judgment of Divorce will include language about this. Typically, the spouse who gets continuing medical insurance through COBRA must pay for it. Insurance through COBRA may cost more than when that person was covered as a spouse. If the parties agree to something else, like having the other spouse pay for the COBRA coverage, that must be specifically added to the Judgment of Divorce. You can add this in the Other Provisions section. The Other Provisions section will be available at the end of this tool.
continue button field: marriage.health_coverage
---
# --------------------------------------------------------------------
## marriage.personal_property_
# --------------------------------------------------------------------
---
id: marriage.personal_property_info
question: |
  Personal property
subquestion: |
  You are now going to be asked about your personal property. Personal property means all of the things you own other than real property (real property is real estate such as a house, condo, or land). Personal property includes things like a mobile home, furniture, jewelry, household goods, and collectibles, as well as cash, stocks, and Certificates of Deposit (CDs). Do not include vehicles (such as cars, boats, trailers, motorcycles, or snowmobiles) in this section. Although vehicles are personal property, you will be asked about vehicles in the next section of this tool.

  - If you and your spouse agree about how all of your property and debt should be divided, use those terms throughout this part of the tool.
  - If you and your spouse don't agree about how your property and debt should be divided, complete this part of the tool using the division of property and debt terms that you want the judge to order.
  - If you and your spouse agree on how to divide some, but not all, of your property and debt, use the terms you do agree on, along with the terms that you want the judge to order for things you don't agree on.

  Normally the party who is awarded specific property, such as a car or home, is responsible for paying the debt related to that property. If you or your spouse need to sign any documents to make property transfers final, such as car title transfers or quitclaim deeds, your Judgment of Divorce will require you to do this within 30 days of when the judgment is final.
continue button field: marriage.personal_property_info
---
id: marriage.personal_property
question: |
  Personal property
fields:
  - label: Did you and your spouse acquire personal property during the marriage?
    field: marriage.personal_property_acquired
    datatype: yesnoradio
---
id: marriage.personal_property
question: |
  Personal property
fields:
  - label: Have you and your spouse reached an agreement about how all personal property will be divided?
    field: marriage.personal_property_division_agreement
    datatype: yesnoradio
  - note: |
      <hr>_Only answer **Yes** if each of you has in your possession all of the items that you have agreed you will have._
    show if: marriage.personal_property_division_agreement
  - label: Have you and your spouse **actually divided** all the personal property based on your agreement?
    field: marriage.personal_property_division_actual
    datatype: yesnoradio
    show if: marriage.personal_property_division_agreement
---
# --------------------------------------------------------------------
## marriage.accounts
# --------------------------------------------------------------------
---
objects:
  - marriage.accounts: ALAssetList.using(
      question_text="Bank Accounts (Cash) and Investments",
      noun_sl="account or investment",
      noun_pl="accounts or investments",
      complete_attribute="complete",
      )
---
code: |
  marriage.accounts[i].kind
  marriage.accounts[i].source
  marriage.accounts[i].balance
  marriage.accounts[i].owner
  marriage.accounts[i].complete = True
---
table: marriage.accounts.table
rows: marriage.accounts
columns:
  - Type: row_item.kind
  - Location: row_item.source
  - Amount: currency(row_item.balance)
  - Award: row_item.owner
edit:
  - kind
  - source
  - balance
  - owner
delete buttons: True
confirm: True
---
id: marriage.accounts[i]
question: |
  ${marriage.accounts.question_text}
subquestion: |
  ${marriage.accounts.question_text_table_template}

  Do **NOT** include account numbers.
fields:
  - label: Type
    field: marriage.accounts[i].kind
    choices:
      - Savings
      - Checking
      - CD
      - Cash
      - Money Market
  - label: Location (e.g., Fifth Third Bank)
    field: marriage.accounts[i].source
  - label: Amount
    field: marriage.accounts[i].balance
    datatype: currency
    min: 0
  - label: Award to
    field: marriage.accounts[i].owner
    datatype: object_radio
    choices:
      - users[0]
      - other_parties[0]
      - joint
---
template: marriage.accounts.there_is_another_template
content: |
  Please list each bank account and investment that has not been divided, and select how it should be awarded.
---
# --------------------------------------------------------------------
## marriage.other_pp
# --------------------------------------------------------------------
---
objects:
  - marriage.other_pp: ALAssetList.using(
      question_text="Other Personal Property",
      noun_sl="piece of property",
      noun_pl="pieces of property",
      complete_attribute="complete",
      )
---
code: |
  marriage.other_pp[i].kind
  marriage.other_pp[i].desc
  marriage.other_pp[i].owner
  marriage.other_pp[i].complete = True
---
table: marriage.other_pp.table
rows: marriage.other_pp
columns:
  - Type: row_item.kind
  - Owed: row_item.desc
  - Responsible: row_item.owner
edit:
  - kind
  - desc
  - owner
delete buttons: True
confirm: True
---
id: marriage.other_pp[i]
question: |
  ${marriage.other_pp.question_text}
subquestion: |
  ${marriage.other_pp.question_text_table_template}

  Select the type of property. Describe the item and select who it should be awarded to.
fields:
  - label: Type of property
    field: marriage.other_pp[i].kind
    choices:
      - Furniture/Furnishings
      - Art Work
      - Antiques
      - Coin and Other Collections
      - Household Items
      - Other Personal Property
  - label: Describe the item
    field: marriage.other_pp[i].desc
  - label: Award to
    field: marriage.other_pp[i].owner
    datatype: object_radio
    choices:
      - users[0]
      - other_parties[0]
---
template: marriage.other_pp.there_is_another_template
content: |
  Please list each other item of personal property that has not been divided and indicate whether you or your spouse will keep it.
---
# --------------------------------------------------------------------
## marriage.mobile_home
# --------------------------------------------------------------------
---
objects:
  - marriage.mobile_home: ALAssetList.using(
      question_text="Mobile homes",
      noun_sl="mobile home",
      noun_pl="mobile homes",
      complete_attribute="complete",
      )
---
code: |
  marriage.mobile_home[i].kind
  marriage.mobile_home[i].desc
  marriage.mobile_home[i].owner
  marriage.mobile_home[i].complete = True
---
table: marriage.mobile_home.table
rows: marriage.mobile_home
columns:
  - VIN: row_item.kind
  - Location: row_item.desc
  - Award: row_item.owner
edit:
  - kind
  - desc
  - owner
delete buttons: True
confirm: True
---
id: marriage.mobile_home
question: |
  ${marriage.mobile_home.question_text}
subquestion: |
  ${marriage.mobile_home.question_text_table_template}
fields:
  - label: VIN
    field: marriage.mobile_home[i].kind
  - label: Location
    field: marriage.mobile_home[i].desc
  - label: Award to
    field: marriage.mobile_home[i].owner
    datatype: object_radio
    choices:
      - users[0]
      - other_parties[0]
---
template: marriage.mobile_home.there_is_another_template
content: ""
---
# --------------------------------------------------------------------
## marriage.debts
# --------------------------------------------------------------------
---
objects:
  - marriage.debts: ALAssetList.using(
      question_text="Debts",
      noun_sl="debt",
      noun_pl="debts",
      complete_attribute="complete",
      )
---
# this list's there_are_any is determined by interview_order
# re-sets True after review_full recomputes x.gathered_reset
code: |
  marriage.debts.there_are_any = True
---
code: |
  marriage.debts[i].kind
  marriage.debts[i].source
  marriage.debts[i].balance
  marriage.debts[i].owner
  marriage.debts[i].complete = True
---
table: marriage.debts.table
rows: marriage.debts
columns:
  - Type: row_item.kind
  - Owed: row_item.source
  - Balance: currency(row_item.balance)
  - Responsible: row_item.owner
edit:
  - kind
  - source
  - balance
  - owner
delete buttons: True
confirm: True
---
id: marriage.debts.info
question: |
  ${marriage.debts.question_text}
subquestion: |
  The judge assigned to your divorce case will not have any authority over your creditors (those whom you owe money). Your Judgment of Divorce may divide your marital debt, assigning you or your spouse responsibility for paying each debt. However, creditors may continue to treat debts in both of your names as joint debt. If your spouse defaults on a debt that the Judgment of Divorce requires him or her to pay, you can return to the family court to seek repayment from him or her.

  It is important for all debts that are in both of your names to be included in your Judgment of Divorce. That way, if the person who your divorce assigns responsibility for paying the debt defaults, the other party has a remedy in family court.
continue button field: marriage.debts.info
---
id: marriage.debts.any
question: |
  ${marriage.debts.question_text}
fields:
  - label: Do you or your spouse have any debts, either in your own names or together?
    field: marriage.debts.any
    datatype: yesnoradio
---
id: marriage.debts.pay_debts_in_own_names
question: |
  ${marriage.debts.question_text}
fields:
  - label: Do you and your spouse each plan to pay the debts in your own names?
    field: marriage.debts.pay_debts_in_own_names
    datatype: yesnoradio
---
id: marriage.debts.agree_responsibility_debts_own_name
question: |
  ${marriage.debts.question_text}
fields:
  - label: Do you and your spouse agree on who will be responsible for these debts?
    field: marriage.debts.agree_responsibility_debts_own_name
    datatype: yesnoradio
---
id: marriage.debts.any_in_both_names
question: |
  ${marriage.debts.question_text}
fields:
  - label: Do you and your spouse have any debts that are in **both** of your names?
    field: marriage.debts.any_in_both_names
    datatype: yesnoradio
---
id: marriage.debts.agree_responsibility_debts_both_names
question: |
  ${marriage.debts.question_text}
fields:
  - label: Do you and your spouse agree on who will be responsible for these debts?
    field: marriage.debts.agree_responsibility_debts_both_names
    datatype: yesnoradio
---
id: marriage.debts[i]
question: |
  ${marriage.debts.question_text}
subquestion: |
  ${marriage.debts.there_is_another_template}

  ${marriage.debts.question_text_table_template}

  Do **NOT** include credit card numbers or any other identifying number associated with a debt.
fields:
  - label: Type of debt
    field: marriage.debts[i].kind
    choices:
      - Credit card
      - Personal loan
      - Student loan
      - Other loan
      - Unpaid taxes
      - Judgment
  - label: To whom do you owe the money
    field: marriage.debts[i].source
  - label: Approximate balance
    field: marriage.debts[i].balance
    datatype: currency
    min: 0
  - label: Responsibility of
    field: marriage.debts[i].owner
    datatype: object_radio
    choices:
      - users[0]
      - other_parties[0]
      - joint
---
template: marriage.debts.there_is_another_template
content: |
  % if not marriage.debts.pay_debts_in_own_names:
  List each debt that is currently in one spouse's name, but that the other spouse **${"will" if marriage.attr("debts.agree_responsibility_debts_own_name") else "should"}** be responsible for.
  % endif

  % if marriage.debts.any_in_both_names:
  ${"Also, list" if not marriage.debts.pay_debts_in_own_names else "List"}  each jointly held debt (debts in both of your names) that will be divided and indicate whether you or your spouse **${"will" if marriage.attr("debts.agree_responsibility_debts_both_names") else "should"}** be responsible for it.
  % endif
---
# --------------------------------------------------------------------
## marriage.vehicles
# --------------------------------------------------------------------
---
objects:
  - marriage.vehicles: ALAssetList.using(
      question_text="Vehicles",
      noun_sl="vehicle",
      noun_pl="vehicles",
      complete_attribute="complete",
      )
---
# this list's there_are_any is determined by interview_order
# re-sets True after review_full recomputes x.gathered_reset
code: |
  marriage.vehicles.there_are_any = True
---
code: |
  marriage.vehicles[i].year
  marriage.vehicles[i].make
  marriage.vehicles[i].model
  marriage.vehicles[i].vin
  marriage.vehicles[i].agree
  marriage.vehicles[i].debt
  marriage.vehicles[i].owner
  marriage.vehicles[i].complete = True
---
table: marriage.vehicles.table
rows: marriage.vehicles
columns:
  - Year/Make/Model: |
      " ".join((row_item.year, row_item.make, row_item.model))
  - Award: row_item.owner
edit:
  - year
  - make
  - model
  - vin
  - agree
  - debt
  - owner
delete buttons: True
confirm: True
---
id: marriage.vehicles.info
question: |
  ${marriage.vehicles.question_text}
subquestion: |
  Next you will be asked about vehicles. Vehicles include cars, boats, trailers, motorcycles, snowmobiles, and other motorized equipment titled to the owner. Mobile homes are vehicles, but do not include them here &mdash; you should have included mobile homes in the previous question about personal property.

  You will be asked for the Make and Model of each vehicle you own. Make refers to the name of the company that manufactured the vehicle. Examples of vehicle "makes" are Ford, General Motors, Chrysler, and Toyota. Model refers to the type of vehicle. Examples of "models" are Focus, Cutlass, Town and Country, and Highlander. If you are describing a vehicle other than a car, do your best to identify the vehicle using the Make and Model entries. For example, if you are listing a boat, you might say "Starcraft" for Make and "Starfish 226" for Model.
continue button field: marriage.vehicles.info
---
id: marriage.vehicles.any
question: |
  ${marriage.vehicles.question_text}
fields:
  - label: Do you and your spouse own any vehicles (car, boat, trailer, motorcycle, snowmobile, etc.)?
    field: marriage.vehicles.any
    datatype: yesnoradio
---
id: marriage.vehicles.keep_own
question: |
  ${marriage.vehicles.question_text}
fields:
  - label: How do you want to divide your vehicles?
    field: marriage.vehicles.keep_own
    input type: radio
    choices:
      - label: Each party will keep the vehicle(s) now in his or her possession and titled in <u>only</u> his or her name. The party keeping the vehicle(s) is fully responsible to pay any debt related to the vehicle(s). The other party will have no claim to any vehicle(s) in the other's name and possession.
        value: True
      - label: We need to transfer title to one or more vehicles.
        value: False
---
id: marriage.vehicles[i]
question: |
  ${marriage.vehicles.question_text}
subquestion: |
  ${marriage.vehicles.there_is_another_template}

  ${marriage.vehicles.question_text_table_template}
fields:
  - label: Year
    field: marriage.vehicles[i].year
    minlength: 4
    maxlength: 4
  - label: |
      {vehicles_make|Make}
    field: marriage.vehicles[i].make
  - label: |
      {vehicles_model|Model}
    field: marriage.vehicles[i].model
  - label: VIN
    field: marriage.vehicles[i].vin
  - label: Award this vehicle to
    field: marriage.vehicles[i].owner
    datatype: object_radio
    choices:
      - users[0]
      - other_parties[0]
  - label: Do you and the ${op_ask_role.capitalize()} agree on what should happen with this vehicle?
    field: marriage.vehicles[i].agree
    datatype: yesnoradio
  - label: Is there a debt related to this vehicle?
    field: marriage.vehicles[i].debt
    datatype: yesnoradio
  - note: |
      **The person who is awarded the vehicle will be responsible for paying the debt on that vehicle.**
    show if: marriage.vehicles[i].debt
---
template: marriage.vehicles.there_is_another_template
content: |
  Please list each vehicle and whether you or your spouse will keep it.
---
# --------------------------------------------------------------------
## marriage.real_property
# --------------------------------------------------------------------
---
objects:
  - marriage.real_property: ALAssetList.using(
      question_text="Real property",
      noun_sl="property",
      noun_pl="properties",
      complete_attribute="complete",
      )
---
code: |
  marriage.real_property[i].initializeAttribute("address", ALAddress)
  marriage.real_property[i].address.address
  marriage.real_property[i].desc
  marriage.real_property[i].parcel_number
  marriage.real_property[i].agree
  marriage.real_property[i].owner
  marriage.real_property[i].complete = True
---
table: marriage.real_property.table
rows: marriage.real_property
columns:
  - Address: row_item.address.on_one_line()
  - Description: row_item.desc
  - Award: row_item.owner
edit:
  - address.address
  - desc
  - parcel_number
  - agree
  - owner
delete buttons: True
confirm: True
---
id: marriage.real_property.there_are_any
question: |
  ${marriage.real_property.question_text}
subquestion: |
  Real property is real estate such as a house, a condo, or land.
fields:
  - label: Do you or your spouse own real property that was bought or paid for while you were married?
    field: marriage.real_property.there_are_any
    datatype: yesnoradio
---
id: marriage.real_property
sets:
  - marriage.real_property[i].address.address
  - marriage.real_property[i].address.unit
  - marriage.real_property[i].address.city
  - marriage.real_property[i].address.state
  - marriage.real_property[i].address.zip
question: |
  What is the address of the ${ordinal(i)} property?
subquestion: |
  ${marriage.real_property.question_text_table_template}
fields:
  - code: |
      marriage.real_property[i].address.address_fields(country_code=users[0].address.attr("country"), default_state=users[0].address.attr("state"), show_country=users[0].address.attr("country") != "US")
---
id: marriage.real_property
question: |
  Describe the ${ordinal(i)} property
subquestion: |
  ${marriage.real_property.question_text_table_template}
fields:
  - label: Legal description
    field: marriage.real_property[i].desc
    input type: area
    rows: 10
  - label: Parcel number
    field: marriage.real_property[i].parcel_number
---
id: marriage.real_property
question: |
  What should happen with the ${ordinal(i)} property?
subquestion: |
  ${marriage.real_property.question_text_table_template}
fields:
  - label: Do you and the ${op_ask_role.capitalize()} agree on what should happen with this property?
    field: marriage.real_property[i].agree
    datatype: yesnoradio

  - label: Award this property to
    field: marriage.real_property[i].owner
    datatype: object_radio
    choices:
      - users[0]
      - other_parties[0]
      - sell_and_share

  - label: Is this property titled in both of your names?
    field: marriage.real_property[i].titled_together
    datatype: yesnoradio
    js show if: |
      val("marriage.real_property[i].owner") === "users[0]" || val("marriage.real_property[i].owner") === "other_parties[0]"

  - note: |
      <strong>The person who is not keeping the property will need to sign a quitclaim deed giving his or her share of the property to the other person.</strong>
    js show if: |
      val("marriage.real_property[i].titled_together") === true

  - label: Is the person getting the property the one whose name is on the title?
    field: marriage.real_property[i].title_award_to_named
    datatype: yesnoradio
    js show if: |
      val("marriage.real_property[i].titled_together") === false

  - note: |
      <strong>The person who is not keeping the property will need to sign a quitclaim deed giving his or her share of the property to the other person.</strong>
    js show if: |
      val("marriage.real_property[i].title_award_to_named") === false

  - label: Is there a mortgage or other loan on this property?
    field: marriage.real_property[i].mortgage_or_loan
    datatype: yesnoradio
    js show if: |
      val("marriage.real_property[i].titled_together") !== null

  - label: Is the mortgage or other loan in both of your names?
    field: marriage.real_property[i].mortgage_or_loan_together
    datatype: yesnoradio
    js show if: |
      val("marriage.real_property[i].mortgage_or_loan") === true

  - label: Is the person getting the property the one whose name is on the loan?
    field: marriage.real_property[i].mortgage_or_loan_award_to_named
    datatype: yesnoradio
    js show if: |
      val("marriage.real_property[i].mortgage_or_loan_together") === false

  - note: |
      <strong>The person who is keeping the property will be required to refinance the loan so that it is in his or her name alone.</strong>
    js show if: |
      val("marriage.real_property[i].mortgage_or_loan_together") === true || val("marriage.real_property[i].mortgage_or_loan_award_to_named") === false

  - note: |
      <strong>The Real Estate Addendum of your proposed Judgment of Divorce will say that the property is awarded to both you and the Defendant, and will be sold within a reasonable time after the judgment is entered. It will also say that both of you are responsible for the mortgage, insurance, taxes, liens, and any other costs and debts associated with the property. If you want something different, use the Guide to Legal Help to look for a lawyer or legal services near you.</strong>
    js show if: |
      val("marriage.real_property[i].owner") === "sell_and_share"

  - note: |
      <strong>In this tool, the person who is awarded a piece of real property (home, condo, or land) will also be made responsible for paying the mortgage, insurance, taxes, liens, and any other costs on the property. Or if you and the other party are going to sell the property and share equally in the profit or loss from the sale, both of you will be responsible for the mortgage, insurance, taxes, liens, and any other costs on the property until it is sold. These are common ways of assigning the rights and responsibilities of real property in a divorce—but not the only ways. If you don't agree with any of these terms for dividing this real property and the related debt, you should consult with an attorney before finalizing your divorce. You may want to consider talking to a lawyer to assure you get the best possible outcome. Please review the articles Divorce Basics: Dividing Your Property and Debt and Real Estate and Divorce for more information on this topic.

      As part of the Judgment of Divorce, the person who is awarded the property may be ordered to refinance the home in his or her name alone. However, refinancing might not be possible if the property is worth less than the amount of the mortgage, if the person required to refinance has poor credit, or for other reasons.

      The person who is not awarded the property may be required to complete a quitclaim deed giving the other spouse his or her share of the property.</strong>
    js show if: |
      val("marriage.real_property[i].owner") !== null
---
template: marriage.real_property.there_is_another_template
content: ""
---
# --------------------------------------------------------------------
## marriage.other_provisions
# --------------------------------------------------------------------
---
id: marriage.other_provisions
question: |
  Other provisions
fields:
  - label: Are there any other terms that you and your spouse have agreed to that you want to include in your Judgment of Divorce?
    field: marriage.other_provisions_any
    datatype: yesnoradio
  - label: Enter the additional agreements
    field: marriage.other_provisions
    input type: area
    rows: 10
    show if: marriage.other_provisions_any
validation code: |
  if not marriage.other_provisions_any:
    marriage.invalidate_attr("other_provisions")
---
# --------------------------------------------------------------------
## marriage.temporary_order
# --------------------------------------------------------------------
---
id: marriage.temporary_order
question: |
  Temporary order
fields:
  - label: Has a temporary order been entered in your case after meeting with the Friend of the Court (for example, a temporary order regarding custody, parenting time, and/or child support)?
    field: marriage.temporary_order
    datatype: yesnoradio
  - note: |
      If a temporary order was entered previously, you should have already filed a [Domestic Relations Judgment Information form](https://www.courts.michigan.gov/siteassets/forms/scao-approved/foc100.pdf). This tool will produce a second Domestic Relations Judgment Information form, which you will need to file with your Judgment of Divorce.

      Click on the link below to see what information the form asks for.

      ${collapse_template(marriage.temporary_order_changed_template)}
    show if: marriage.temporary_order
  - label: Has any of the information that goes on this form changed since the last time it was filed?
    field: marriage.temporary_order_changed
    datatype: yesnoradio
    show if: marriage.temporary_order
---
template: marriage.temporary_order_changed_template
subject: |
  What information is on the Domestic Relations Judgment Information form?
content: |
  The Domestic Relations Judgment Information form contains the following information:

  INFORMATION ABOUT YOU

    - Full name and address
    - Social Security Number
    - Telephone number
    - E-mail address
    - Employer name, address, phone, and FEIN
    - Driver's license number and state
    - Occupational license number(s), type(s), issuing state(s), and date(s)

  INFORMATION ABOUT THE OTHER PARTY

    - All of the above information

  INFORMATION ABOUT CHILDREN

    - Full name
    - Social Security Number
    - Date of birth
    - Who has physical custody
    - Current primary residence address
    - Who has legal custody

  INFORMATION ABOUT MEDICAL INSURANCE HELD BY EITHER PARTY

    - Provider name and address
    - Policy / group number
    - Cert. number
    - Children covered by the policy
    - Policy coverage (medical/dental/vision/other)
---
# --------------------------------------------------------------------
## marriage.true_statement
# --------------------------------------------------------------------
---
id: marriage.true_statement
question: |
  Everything is true?
fields:
  - label: Is all of the information you provided in this tool true to the best of your knowledge, information, and belief?
    field: marriage.true_statement
    datatype: yesnoradio
  - note: |
      **You must provide truthful and accurate information on your divorce forms. Prior to filing, you will be required to verify with your signature that the information contained in the forms is true to the best of your knowledge, information, and belief. If you do not believe the information you have provided is truthful and accurate, please go back and make the necessary changes.**
    show if:
      variable: marriage.true_statement
      is: False
---
# ====================================================================
## documents
# ====================================================================
---
objects:
  - judgment_ccmlh412: ALDocument.using(title="Judgment", filename="Judgment.pdf", enabled=True, default_overflow_message=AL_DEFAULT_OVERFLOW_MESSAGE)
---
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[judgment_ccmlh412], filename="Michigan Divorce and Custody JOD", title="Divorce and Custody JOD", enabled=True)
---
attachment:
  - name: Judgment ccmlh412 (no kids)
    filename: Judgment ccmlh412 (no kids)
    variable name: judgment_ccmlh412[i]
    pdf template file: judgment_ccmlh412_no_kids.pdf
    fields:
      - trial_court_circuit: |
          % if the_court.type == "circuit":
          ${the_court.number}
          % endif
      - docket_number: ${docket_number}
      - trial_court_county: ${the_court.address.county}
      - trial_court_address_on_one_line: ${the_court.address.on_one_line()}
      - trial_court_phone_number: ${ the_court.phone }
      - defendants_block: |
          ${defendants}
          ${defendants[0].address.on_one_line()}
          ${word("Does not have phone") if defendants[0].no_phone_number else defendants[0].phone_numbers()}
      - plaintiffs_block: |
          ${plaintiffs}
          ${plaintiffs[0].address.on_one_line()}
          ${word("Does not have phone") if plaintiffs[0].no_phone_number else plaintiffs[0].phone_numbers()}
      - plaintiffs1_name: ${plaintiffs}
      - defendants1_name: ${defendants}
      - spousal_support_none: Yes
      - spousal_support_reserved: No
      - spousal_support_awarded: No
      - personal_property_as_is: |
          ${not personal_property_in_addendum(marriage)}
      - personal_property_in_addendum: |
          ${personal_property_in_addendum(marriage)}
      - debts_none: ${not debts_in_addendum(marriage)}
      - debts_pay_debts_in_own_name: ${marriage.debts.any and marriage.attr("debts.pay_debts_in_own_names")}
      - debts_in_addendum: ${debts_in_addendum(marriage)}
      - vehicles_none: ${not marriage.vehicles.any}
      - vehicles_keep_same: ${marriage.vehicles.any and marriage.attr("vehicles.keep_own")}
      - vehicles_in_addendum: ${marriage.vehicles.any and not marriage.attr("vehicles.keep_own")}
      - real_property_none: ${not bool(marriage.real_property)}
      - real_property_in_addendum: ${bool(marriage.real_property)}
      - pensions_none: ${not marriage.have_pension_retirement}
      - pensions_keep_own: ${marriage.have_pension_retirement and marriage.attr("pension_retirement_accounts_keep_own")}
      - pensions_in_addendum: ${marriage.have_pension_retirement and not marriage.attr("pension_retirement_accounts_keep_own")}
      - total_pages: ""
      - wants_name_change: ${users[0].new_last_name_yn}
      - name_change_plaintiff: ${plaintiffs[0].attr("new_last_name_yn")}
      - name_change_defendant: ${defendants[0].attr("new_last_name_yn")}
      - new_name: ${users[0].attr("new_last_name")}
      - has_personal_property_debt_addendum: ${personal_property_in_addendum(marriage) or debts_in_addendum(marriage)}
      - has_vehicle_addendum: ${has_vehicle_addendum(marriage)}
      - has_real_property_addendum: ${bool(marriage.real_property)}
      - has_pension_addendum: ${marriage.have_pension_retirement and not marriage.attr("pension_retirement_accounts_keep_own")}
      - has_other_provisions: ${marriage.other_provisions_any}
      - other_provisions: ${marriage.attr("other_provisions")}
---
code: |
  def personal_property_in_addendum(marriage: DAObject) -> bool:
    return marriage.personal_property_acquired and (
      not marriage.attr("personal_property_division_agreement")
      or not marriage.attr("personal_property_division_actual")
    )
---
code: |
  def debts_in_addendum(marriage: DAObject) -> bool:
    return marriage.debts.any and (
      not marriage.attr("debts.agree_responsibility_debts_own_name")
      or marriage.attr("debts.any_in_both_names")
    )
---
code: |
  def has_vehicle_addendum(marriage: DAObject) -> bool:
    return (
      marriage.vehicles.any
      and not marriage.attr("vehicles.keep_own")
      and any(not item.agree for item in marriage.vehicles)
    )
---
